(function(ee,ie){typeof exports=="object"&&typeof module=="object"?module.exports=ie(require("axios"),require("bkui-vue"),require("classnames"),require("dayjs"),require("echarts"),require("vue")):typeof define=="function"&&define.amd?define(["axios","bkui-vue","classnames","dayjs","echarts","vue"],ie):typeof exports=="object"?exports.MyLibrary=ie(require("axios"),require("bkui-vue"),require("classnames"),require("dayjs"),require("echarts"),require("vue")):ee.MyLibrary=ie(ee.axios,ee["bkui-vue"],ee.classnames,ee.dayjs,ee.echarts,ee.vue)})(typeof self<"u"?self:this,function(oe,ee,ie,me,ge,ye){return function(){var se={11400:function(o,a,t){"use strict";t.r(a)},62151:function(o,a,t){"use strict";t.r(a)},11257:function(o,a,t){"use strict";t.r(a)},79467:function(o,a,t){"use strict";t.r(a)},56069:function(o,a,t){"use strict";t.r(a)},47376:function(o,a,t){"use strict";t.r(a)},87092:function(o,a,t){"use strict";t.r(a)},7280:function(o,a,t){"use strict";t.r(a)},59485:function(o,a,t){"use strict";t.r(a)},51097:function(o,a,t){"use strict";t.r(a)},46591:function(o,a,t){"use strict";t.r(a)},70047:function(o,a,t){"use strict";t.r(a)},4110:function(o,a,t){"use strict";t.r(a)},95890:function(o,a,t){"use strict";t.r(a)},16906:function(o,a,t){"use strict";t(81821),t(34),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,a.generateReqKey=T,a.pendingRequest=void 0;var e=n(t(63638));t(20148),t(16165),t(37209),t(50754),t(99057),t(2968),t(4064);var i=n(t(83300)),u=t(80583),h=t(22247),C=n(t(63595)),l=t(83867),D;function f(P,m){var r=Object.keys(P);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(P);m&&(c=c.filter(function(S){return Object.getOwnPropertyDescriptor(P,S).enumerable})),r.push.apply(r,c)}return r}function s(P){for(var m=1;m<arguments.length;m++){var r=arguments[m]!=null?arguments[m]:{};m%2?f(Object(r),!0).forEach(function(c){(0,e.default)(P,c,r[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(c){Object.defineProperty(P,c,Object.getOwnPropertyDescriptor(r,c))})}return P}var y=new Map;a.pendingRequest=y;function T(P){var m=P.method,r=P.url,c=P.params,S=P.data;return[m,r,C.default.stringify(c),C.default.stringify(S)].join("&")}function g(P){var m=T(P);P.cancelToken=P.cancelToken||new i.default.CancelToken(function(r){y.has(m)||y.set(m,r)})}function d(P){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!P||P.irrepealable)){var r=T(P);if(y.has(r)){if(m){var c=y.get(r);console.info("removePendingRequest",r),c(r)}y.delete(r)}}}var v=i.default.create({timeout:1e3*300,withCredentials:!0,xsrfCookieName:"X-CSRFToken",baseURL:((D=window.PROJECT_CONFIG)===null||D===void 0?void 0:D.BK_SITE_URL)||""}),p=function(m){var r=!0,c=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r=j},S=setTimeout(function(){r&&(0,h.Message)(m.message),clearTimeout(S)},100);return s(s({},m),{},{hideNormalError:c})};v.interceptors.request.use(function(P){return P.irrepealable||(d(P),g(P)),P.headers||(P.headers={}),["HEAD","OPTIONS","TRACE"].includes("".concat(P.method).toUpperCase())||(P.headers["X-CSRFToken"]=(0,u.getCookie)(window.csrf_cookie_name)||""),P.headers["X-Requested-With"]="XMLHttpRequest",P},function(P){var m=p(P);return Promise.reject(m)});function b(){new Promise(function(){})}v.interceptors.response.use(function(P){if(d(P.config,!1),P.status===200){var m=P.data||{};switch(m.code){case 200:if(!m.result){var r=p(m);return Promise.reject(r)}return Promise.resolve(m.data);case 401:return b();default:{var c=p(m);return Promise.reject(c)}}}return Promise.reject(P)},function(P){if(!P)return Promise.reject();d(P.config,!1);var m=P.response,r=m?.config||{},c=r.url,S=c===void 0?"":c,M=P.response||{},j=M.status;if(i.default.isCancel(P))return console.trace(),console.log("\u5DF2\u53D6\u6D88\u7684\u91CD\u590D\u8BF7\u6C42\uFF1A".concat(S)),console.log(P),Promise.reject("\u5DF2\u53D6\u6D88\u7684\u91CD\u590D\u8BF7\u6C42");var R="";switch(j){case 500:R="\u670D\u52A1\u7AEF\u51FA\u9519\u4E86";break;case 502:R="\u7F51\u5173\u8D85\u65F6\u4E86";break;case 400:R="\u8BF7\u6C42\u51FA\u9519\u4E86\uFF01";break;case 401:return b();case 404:R="\u8BF7\u6C42\u7684\u8D44\u6E90\u4E0D\u5B58\u5728";break;case 499:return R="\u8BF7\u6C42\u65E0\u6743\u9650",console.log("@@@",m),m.data.code===9900403&&((0,l.setShow)(!0),(0,l.setApplyData)(m.data.permission)),Promise.reject();default:R="\u8BF7\u6C42\u51FA\u9519\u4E86";break}var L=p({message:"".concat(R,`:
`).concat(S),status:j,data:m?.data});return Promise.reject(L)});var O=v;a.default=O},72798:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.updateDashboardInfoPartial=a.updateDashboardInfo=a.sortDashboardInfo=a.setDefaultDashboard=a.saveDashboardInfo=a.rollbackDashboard=a.importDashboard=a.getDashboardInfo=a.getDashBoardTreeAll=a.getDashBoardTree=a.getDashBoard=a.getCollectDashboard=a.exportDashboard=a.deleteDashboard=a.copyDashboard=a.collectDashboard=a.collectCancelDashboard=a.buildQuickShareLink=void 0;var e=n(t(16906)),i=function(c){return e.default.get("api/v1/dashboard/",{params:c})};a.getDashBoard=i;var u=function(c){return e.default.get("api/v1/dashboard/tree/",{params:c})};a.getDashBoardTree=u;var h=function(c){return e.default.get("api/v1/dashboard/get_tree_with_favorites/",{params:c})};a.getDashBoardTreeAll=h;var C=function(c,S){return e.default.get("api/v1/dashboard/".concat(c,"/"),S)};a.getDashboardInfo=C;var l=function(c,S){return e.default.put("api/v1/dashboard/".concat(c,"/"),S)};a.updateDashboardInfo=l;var D=function(c){return e.default.post("api/v1/dashboard/sort_dashboards/",c)};a.sortDashboardInfo=D;var f=function(c,S){return e.default.patch("api/v1/dashboard/".concat(c,"/"),S)};a.updateDashboardInfoPartial=f;var s=function(c){return e.default.post("api/v1/dashboard/",c)};a.saveDashboardInfo=s;var y=function(c){return e.default.delete("api/v1/dashboard/".concat(c,"/"))};a.deleteDashboard=y;var T=function(c,S){return e.default.post("api/v1/dashboard/".concat(c,"/copy/"),{folder_uid:S})};a.copyDashboard=T;var g=function(c){return e.default.get("api/v1/dashboard/".concat(c,"/export/"))};a.exportDashboard=g;var d=function(c){return e.default.post("api/v1/dashboard/import/",c)};a.importDashboard=d;var v=function(c,S){return e.default.post("api/v1/space/".concat(c,"/set_default/"),{dashboard_uid:S})};a.setDefaultDashboard=v;var p=function(c,S){return e.default.post("api/v1/dashboard/".concat(c,"/reset/"),{version:S})};a.rollbackDashboard=p;var b=function(c){return e.default.get("api/v1/dashboard/get_favorites/?space_uid=".concat(c))};a.getCollectDashboard=b;var O=function(c){return e.default.post("api/v1/dashboard/".concat(c,"/collect/"))};a.collectDashboard=O;var P=function(c){return e.default.post("api/v1/dashboard/".concat(c,"/cancel_collect/"))};a.collectCancelDashboard=P;var m=function(c){return e.default.post("api/v1/share/build_quick_url/",c)};a.buildQuickShareLink=m},92244:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.updateDataSourceByUid=a.testDataSource=a.renderSql=a.querySpecifiedData=a.queryFiltersData=a.getVariableValueList=a.getTablesList=a.getTableColumns=a.getQueryMetricLevel=a.getPrometheusTable=a.getMetricDetailByUid=a.getLessCodeProject=a.getFunctions=a.getFunList=a.getDataSourceTypes=a.getDataSourceList=a.getDataSourceByUid=a.getBusiness=a.getBkBaseStorage=a.getBkBaseProject=a.getAuthIP=a.deleteDataSourceByUid=a.addDataSource=void 0;var e=n(t(63638)),i=n(t(16906));function u(V,I){var Q=Object.keys(V);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(V);I&&(Y=Y.filter(function($){return Object.getOwnPropertyDescriptor(V,$).enumerable})),Q.push.apply(Q,Y)}return Q}function h(V){for(var I=1;I<arguments.length;I++){var Q=arguments[I]!=null?arguments[I]:{};I%2?u(Object(Q),!0).forEach(function(Y){(0,e.default)(V,Y,Q[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Q)):u(Object(Q)).forEach(function(Y){Object.defineProperty(V,Y,Object.getOwnPropertyDescriptor(Q,Y))})}return V}var C=function(I){return i.default.get("api/v1/datasource/types/",{params:{space_uid:I}})};a.getDataSourceTypes=C;var l=function(I){return i.default.get("api/v1/datasource/get_auth_ips/",{params:{space_uid:I}})};a.getAuthIP=l;var D=function(I){return i.default.get("api/v1/datasource/".concat(I,"/"))};a.getDataSourceByUid=D;var f=function(I){return i.default.get("api/v1/datasource/",{params:I})};a.getDataSourceList=f;var s=function(I){return i.default.delete("api/v1/datasource/".concat(I,"/"))};a.deleteDataSourceByUid=s;var y=function(I,Q){return i.default.put("api/v1/datasource/".concat(I,"/"),Q)};a.updateDataSourceByUid=y;var T=function(I){return i.default.get("api/v1/datasource/".concat(I,"/tables/"))};a.getTablesList=T;var g=function(I,Q,Y){return i.default.get("api/v1/datasource/columns/",{params:{data_source_uid:I,table_name:Q,path:Y}})};a.getTableColumns=g;var d=function(I){return i.default.post("api/v1/datasource/render_sql/",I)};a.renderSql=d;var v=function(I){return i.default.post("api/v1/datasource/",I)};a.addDataSource=v;var p=function(I){return i.default.post("api/v1/datasource/test/",I)};a.testDataSource=p;var b=function(I){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i.default.post("api/v1/datasource/query/",I,Q)};a.querySpecifiedData=b;var O=function(I){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i.default.post("api/v1/datasource/get_filters/",I,Q)};a.queryFiltersData=O;var P=function(){return i.default.get("static/mock/data/datasource/funlist.json")};a.getFunList=P;var m=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{bk_biz_id:"100147",type:"grafana"};return i.default.post("api/v1/datasource/plugins/bkmonitor/functions/",I)};a.getFunctions=m;var r=function(I){return i.default.post("api/v1/datasource/plugins/bkmonitor/metric_level/?time=".concat(Date.now()),h({},I))};a.getQueryMetricLevel=r;var c=function(I){return i.default.post("api/v1/datasource/plugins/bkmonitor/metric/",h({},I))};a.getMetricDetailByUid=c;var S=function(I){return i.default.post("api/v1/datasource/plugins/bkmonitor/get_variable_value/?time=".concat(Date.now()),h({},I))};a.getVariableValueList=S;var M=function(){return i.default.get("api/v1/datasource/plugins/bkbase/get_my_projects/")};a.getBkBaseProject=M;var j=function(){return i.default.get("api/v1/datasource/plugins/public/get_my_business/")};a.getBusiness=j;var R=function(I){return i.default.get("api/v1/datasource/plugins/bkbase/get_table_storage/",{params:{result_table_id:I}})};a.getBkBaseStorage=R;var L=function(){return i.default.get("api/v1/datasource/plugins/lesscode/get_my_projects/")};a.getLessCodeProject=L;var F=function(){return i.default.get("./static/mock/prometheus.json")};a.getPrometheusTable=F},93767:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.updatePanelInfo=a.savePanelInfo=a.getPanels=a.getPanelInfo=a.getPanelFullInfo=a.getChartTypes=a.deletePanelInfo=void 0;var e=n(t(63638)),i=n(t(16906));function u(g,d){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);d&&(p=p.filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})),v.push.apply(v,p)}return v}function h(g){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?u(Object(v),!0).forEach(function(p){(0,e.default)(g,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):u(Object(v)).forEach(function(p){Object.defineProperty(g,p,Object.getOwnPropertyDescriptor(v,p))})}return g}var C=function(d){return i.default.get("api/v1/panel/types/",{params:{space_uid:d}})};a.getChartTypes=C;var l=function(d){return i.default.get("api/v1/panel/".concat(d,"/"))};a.getPanelInfo=l;var D=function(d){return i.default.get("api/v1/panel/".concat(d,"/get_full_info/"))};a.getPanelFullInfo=D;var f=function(d){return i.default.get("api/v1/panel/",{params:h({},d)})};a.getPanels=f;var s=function(d,v){return i.default.put("api/v1/panel/".concat(d,"/"),v)};a.updatePanelInfo=s;var y=function(d){return i.default.post("api/v1/panel/",d)};a.savePanelInfo=y;var T=function(d){return i.default.delete("api/v1/panel/".concat(d,"/"))};a.deletePanelInfo=T},69734:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.getShareMeta=void 0;var e=n(t(16906)),i=function(h){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/api/v1/meta/query/";return e.default.get(C,{params:h})};a.getShareMeta=i},68671:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.updateVariable=a.testVariablesSql=a.saveVariableRelation=a.quickCreateVariables=a.queryVariable=a.getVariablesByField=a.getVariableRelations=a.getVariableList=a.getVariableByUid=a.deleteVariableByUid=a.cancelVariableRelation=a.addVariable=void 0;var e=n(t(16906)),i=function(p){return e.default.get("api/v1/variable/",{params:p})};a.getVariableList=i;var u=function(p){return e.default.get("api/v1/variable/".concat(p,"/"))};a.getVariableByUid=u;var h=function(p){return e.default.post("api/v1/variable/",p)};a.addVariable=h;var C=function(p){return e.default.delete("api/v1/variable/".concat(p))};a.deleteVariableByUid=C;var l=function(p,b){return e.default.put("api/v1/variable/".concat(p,"/"),b)};a.updateVariable=l;var D=function(p){return e.default.post("api/v1/variable/query/?time=".concat(Date.now()),p)};a.queryVariable=D;var f=function(p,b){return e.default.post("api/v1/variable/".concat(p,"/cancel_related/"),b)};a.cancelVariableRelation=f;var s=function(p,b){return e.default.post("api/v1/variable/".concat(p,"/save_variable_related/"),b)};a.saveVariableRelation=s;var y=function(p,b){return e.default.get("api/v1/variable/".concat(p,"/get_related_logs/"),{params:{space_uid:b}})};a.getVariableRelations=y;var T=function(p){return e.default.get("api/v1/variable/get_variables_by_field/",{params:p})};a.getVariablesByField=T;var g=function(p){return e.default.post("api/v1/variable/test/",p)};a.testVariablesSql=g;var d=function(p){return e.default.post("api/v1/variable/quick_create/",p)};a.quickCreateVariables=d},13158:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.getVersionsData=a.getVersionData=void 0;var e=n(t(63638)),i=n(t(16906));function u(D,f){var s=Object.keys(D);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(D);f&&(y=y.filter(function(T){return Object.getOwnPropertyDescriptor(D,T).enumerable})),s.push.apply(s,y)}return s}function h(D){for(var f=1;f<arguments.length;f++){var s=arguments[f]!=null?arguments[f]:{};f%2?u(Object(s),!0).forEach(function(y){(0,e.default)(D,y,s[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(s)):u(Object(s)).forEach(function(y){Object.defineProperty(D,y,Object.getOwnPropertyDescriptor(s,y))})}return D}var C=function(f){return i.default.get("api/v1/version/",{params:f})};a.getVersionsData=C;var l=function(f,s){return i.default.get("api/v1/version/info/",h({params:f},s))};a.getVersionData=l},67811:function(o,a,t){"use strict";t(81821),t(34),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=f;var e=n(t(63638)),i=n(t(64375));t(99057),t(37209),t(84873);var u=t(39456),h=t(11016),C=n(t(55760));function l(s,y){var T=Object.keys(s);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(s);y&&(g=g.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),T.push.apply(T,g)}return T}function D(s){for(var y=1;y<arguments.length;y++){var T=arguments[y]!=null?arguments[y]:{};y%2?l(Object(T),!0).forEach(function(g){(0,e.default)(s,g,T[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(T)):l(Object(T)).forEach(function(g){Object.defineProperty(s,g,Object.getOwnPropertyDescriptor(T,g))})}return s}function f(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"row",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0,v=s.query,p=s.datasource,b=s.space_uid,O=s.uid,P=p.type,m=p.uid,r=v[0].time_filter,c;d?c=d:["dynamic_fixed","fixed"].includes(r?.category)?c=[r.range.from,r.range.to]:c=u.QueryContextModule.timeRange;var S=(0,h.getTimeRange)(c),M=(0,i.default)(S,2),j=M[0],R=M[1],L=[];return v.forEach(function(F){if(!F)return null;L.push(D(D({},F),{},{format:y,datasource:{type:P,uid:m},space_uid:b}))}),{share_uid:g,panel_uid:O,queries:L,option:{range:{from:j,to:R,raw:{from:c[0],to:c[1]},datetime_str:{from:(0,C.default)(j).format("YYYY-MM-DD HH:mm:ss"),to:(0,C.default)(R).format("YYYY-MM-DD HH:mm:ss")}},variables:T}}}},98634:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t={isShowTools:{type:Boolean,default:!0},isShowTitle:Boolean,editable:Boolean,isPreview:Boolean,isShowMenu:Boolean,isShowFilter:Boolean,shareUid:String,type:{type:String,default:"chart"},panel:{type:Object},timeRange:{type:Array,default:null},variables:{type:Object}};a.default=t},18833:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=D;var e=n(t(64375));t(37209),t(2968),t(3105),t(17777),t(84873),t(9100),t(19903),t(20148),t(50754);var i=n(t(55760)),u=t(39456),h=t(11016),C=t(68671),l=n(t(63595));function D(f,s){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return new Promise(function(g){var d={},v={};if(!Array.isArray(s)||!s.length)return g({filtersHashList:d,variations:v});var p={},b=[],O={};if(T){var P=window.location.search.substr(1);O=l.default.parse(P)}s.forEach(function(m){var r=m.uid,c=m.name,S=m.default,M=m.readonly;{if(p[c])return null;p[c]=!0}if(M){var j;v[c]=(j=O[c])!==null&&j!==void 0?j:S;return}var R={uid:r,option:{},share_uid:u.QueryContextModule.share_uid},L=f,F=(0,h.getTimeRange)(L),V=(0,e.default)(F,2),I=V[0],Q=V[1],Y={range:{from:I,to:Q,raw:{from:L[0],to:L[1]},datetime_str:{from:(0,i.default)(I).format("YYYY-MM-DD HH:mm:ss"),to:(0,i.default)(Q).format("YYYY-MM-DD HH:mm:ss")}},variables:!y||JSON.stringify(y)==="{}"?{[c]:S}:y};Object.assign(R,{option:Y},{uid:r});var $=(0,C.queryVariable)(R);b.push($)}),Promise.all(b).then(function(m){m.forEach(function(r){var c;if(!(!r||!r.name)){var S=r.name,M=r.select_all;v[S]=(c=O[S])!==null&&c!==void 0?c:r.default,M&&(r!=null&&r.query_data.some(function(j){return j.value===""})||r?.query_data.unshift({label:"\u5168\u90E8",value:""})),d[S]=r}})}).finally(function(){g({filtersHashList:d,variations:v})})})}},11016:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.intTimestampStr=a.handleTransformToTimestamp=a.handleTransformTime=a.getTimeRange=a.TimeRange=a.SHORTCUTS=a.DEFAULT_TIME_RANGE=a.CUSTOM_TIME_RANGE_REG=void 0,t(58146),t(3105),t(71342),t(19341),t(35590);var e=n(t(64375)),i=n(t(63638)),u=n(t(55760)),h=/^now(([-+])(\d+)([m|h|d|w|M|y|Y]))?(\/[m|h|d|w|M|y|Y|fy])?/;a.CUSTOM_TIME_RANGE_REG=h;class C{constructor(d){(0,i.default)(this,"value",[]),this.init(d)}init(d){var v=this;this.value=d?.map(function(p,b){return typeof p=="number"?(0,u.default)(p).format("YYYY-MM-DD HH:mm:ss"):typeof p=="string"?v.transformTimeString(p,b?"to":"from"):p})}transformTimeString(d,v){var p=null,b=d.match(h);if(b){p=(0,u.default)();var O=(0,e.default)(b,6),P=O[0],m=O[2],r=O[3],c=O[4],S=O[5];m==="-"&&r&&c&&(p=p.subtract(+r,c)),m==="+"&&r&&c&&(p=p.add(+r,c)),S&&(v==="from"&&(p=p.startOf(S.replace("/",""))),v==="to"&&(p=p.endOf(S.replace("/","")))),P!==d&&(p=(0,u.default)(null))}else{var M=D(d);p=(0,u.default)(M)}return p.isValid()?p:null}format(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"YYYY-MM-DD HH:mm:ss";return this.value.map(function(v){var p;return(v==null||(p=v.format)===null||p===void 0?void 0:p.call(v,d))||null})}unix(){return this.value.map(function(d){var v;return(d==null||(v=d.unix)===null||v===void 0?void 0:v.call(d))||null})}}a.TimeRange=C;var l=function(d){var v=new C(d),p=(0,e.default)(v.value,2),b=p[0],O=p[1];return[b.valueOf(),O.valueOf()]};a.getTimeRange=l;var D=function(d){var v=/^\d{1}$|^([1-9]\d{1,12})$/.test(d);return v?parseInt(d,10):d};a.intTimestampStr=D;var f=function(d){var v=new C(d);return v.format("YYYY-MM-DD HH:mm:ss")};a.handleTransformTime=f;var s=function(d){var v=new C(d);return v.unix()};a.handleTransformToTimestamp=s;var y=[{text:"\u8FD15\u5206\u949F",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-60*1e3*5),[d,g]},short:["now-5m","now"],data:{n:-5,unit:"m"}},{text:"\u8FD115\u5206\u949F",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-60*1e3*15),[d,g]},short:["now-15m","now"],data:{n:-15,unit:"m"}},{text:"\u8FD130\u5206\u949F",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-60*1e3*30),[d,g]},short:["now-30m","now"],data:{n:-30,unit:"m"}},{text:"\u8FD11\u5C0F\u65F6",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3),[d,g]},short:["now-1h","now"],data:{n:-1,unit:"h"}},{text:"\u8FD13\u5C0F\u65F6",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*3),[d,g]},short:["now-3h","now"],data:{n:-1,unit:"h"}},{text:"\u8FD16\u5C0F\u65F6",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*6),[d,g]},short:["now-6h","now"],data:{n:-6,unit:"h"}},{text:"\u8FD112\u5C0F\u65F6",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*12),[d,g]},short:["now-12h","now"],data:{n:-12,unit:"h"}},{text:"\u8FD124\u5C0F\u65F6",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*24),[d,g]},short:["now-24h","now"],data:{n:-24,unit:"h"}},{text:"\u8FD12\u5929",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*24*2),[d,g]},short:["now-2d","now"],data:{n:-2,unit:"d"}},{text:"\u8FD17\u5929",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*24*7),[d,g]},short:["now-7d","now"],data:{n:-7,unit:"d"}},{text:"\u8FD130\u5929",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*24*30),[d,g]},short:["now-30d","now"],data:{n:-30,unit:"d"}},{text:"\u4ECA\u5929",value(){var g=new Date;g.setSeconds(59,0),g.setMinutes(59),g.setHours(23);var d=new Date;return d.setSeconds(0,0),d.setMinutes(0),d.setHours(0),[d,g]},short:["now/d","now/d"]},{text:"\u6628\u5929",value(){var g=new Date;g.setSeconds(0,0),g.setMinutes(0),g.setHours(0),g.setTime(g.getTime()-3600*1e3*24);var d=new Date;return d.setSeconds(59,0),d.setMinutes(59),d.setHours(23),[g,d]},short:["now-1d/d","now-1d/d"]},{text:"\u524D\u5929",value(){var g=new Date,d=new Date;return d.setTime(d.getTime()-3600*1e3*24*2),[d,g]},short:["now-2d/d","now-2d/d"]}];a.SHORTCUTS=y;var T=["now/d","now/d"];a.DEFAULT_TIME_RANGE=T},7751:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.MAP_LIST=a.LINE_BAR_OPTIONS=a.COLOR_LIST=void 0;var t=["#96C989","#F1CE1A","#7EC7E7","#E28D68","#5766ED","#EC6D93","#8F87E1","#6ECD94","#F6A52C","#5ACCCC","#CC7575","#4185EB","#DD6CD2","#8A88C1","#7CB3A3","#DBD84D","#8DBAD3","#D38D8D","#4E76B1","#BF92CB"];a.COLOR_LIST=t;var n={color:t,legend:{show:!0,type:"scroll",bottom:10,padding:[5,10],icon:"circle"},tooltip:{trigger:"none",confine:!0,borderWidth:0,hideDelay:0,transitionDuration:0,axisPointer:{type:"line",snap:!0},textStyle:{fontSize:10}},grid:[{top:10,left:10,right:10,bottom:10,containLabel:!0}],toolbox:{itemSize:0,feature:{dataZoom:{show:!0,xAxisIndex:0,yAxisIndex:"none"}}},animation:!1,stateAnimation:{duration:0}};a.LINE_BAR_OPTIONS=n;var e=[{name:"Map",file:"map",geoJson:"custom/map/map.geo.json",translateJson:"custom/map/map.translate.json"},{name:"Africamap",file:"africa",geoJson:"custom/africa.geo.json"},{name:"Americamap",file:"america",geoJson:"countries/us/us-all-all.geo.json"},{name:"Asiamap",file:"asia",geoJson:"custom/asia.geo.json"},{name:"Europemap",file:"europe",geoJson:"custom/europe.geo.json"},{name:"Indiamap",file:"india",geoJson:"countries/in/custom/in-all-disputed.geo.json"},{name:"Indonesiamap",file:"indonesia",geoJson:"countries/id/id-all.geo.json"},{name:"Japanmap",file:"japan",geoJson:"countries/jp/jp-all.geo.json"},{name:"Koreamap",file:"Kore",geoJson:"countries/kr/kr-all.geo.json"},{name:"Malaysiamap",file:"Malaysia",geoJson:"countries/my/my-all.geo.json"},{name:"MiddleEast",file:"MiddleEast",geoJson:"custom/middle-east.geo.json"},{name:"Northamericamap",file:"Northamerica",geoJson:"custom/north-america.geo.json"},{name:"Oceaniamap",file:"Oceania",geoJson:"custom/oceania.geo.json"},{name:"Philippinesmap",file:"Philippines",geoJson:"countries/ph/ph-all.geo.json"},{name:"Russiamap",file:"Russia",geoJson:"countries/ru/ru-all.geo.json"},{name:"Singaporemap",file:"Singapore",geoJson:"countries/sg/sg-all.geo.json"},{name:"Southamericamap",file:"Southamerica",geoJson:"custom/south-america.geo.json"},{name:"Taiwanmap",file:"Taiwan",geoJson:"countries/tw/tw-all.geo.json"},{name:"Thailandmap",file:"Thailand",geoJson:"countries/th/th-all.geo.json"},{name:"Usamap",file:"Usa",geoJson:"countries/us/us-all.geo.json"},{name:"Vietnammap",file:"Vietnam",geoJson:"countries/vn/vn-all.geo.json"},{name:"WorldMap",file:"World",geoJson:"custom/world-map/world-map.geo.json",translateJson:"custom/world-map/world-map.translate.json"}];a.MAP_LIST=e},51696:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.SLIDER_WIDTH=a.BORDER_TYPE=void 0;var t=640;a.SLIDER_WIDTH=t;var n=["solid","dashed","double","groove","ridge","outset"];a.BORDER_TYPE=n},40152:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.VIRTUAL_ROOT=a.MaxDashboardTitleLength=a.GRID_ROW_MARGIN=a.GRID_ROW_HEIGHT=a.GRID_COL_NUM=a.GRID_CELL_MIN_WIDTH=a.GRID_CELL_MIN_HEIGHT=a.GRID_CELL_MAX_HEIGHT=a.FOLDER_ROOT=void 0;var t="0";a.VIRTUAL_ROOT=t;var n="root";a.FOLDER_ROOT=n;var e=24;a.GRID_COL_NUM=e;var i=30;a.GRID_ROW_HEIGHT=i;var u=[16,16];a.GRID_ROW_MARGIN=u;var h=1e4;a.GRID_CELL_MAX_HEIGHT=h;var C=3;a.GRID_CELL_MIN_WIDTH=C;var l=2;a.GRID_CELL_MIN_HEIGHT=l;var D=10;a.MaxDashboardTitleLength=D},71633:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.TimeAggregateList=a.TIME_TYPE=a.REFRESH_DEFAULT_LIST=a.MYSQL_FIELD_PATTERN=a.Letters=a.INTERVAL_UNIT_LIST=a.INTERVAL_LIST=a.FIELD_TYPES=a.CHARSET_LIST=a.AGGREGATION_LIST=void 0,a.addTabPanel=m,a.getAggregationOptions=S,a.getFieldType=d,a.operationListBase=a.operationList=a.initQuery=a.initPanel=a.initGridPos=a.initDataSource=void 0,t(58146),t(99057),t(37209),t(25181),t(9100),t(17369);var e=t(12692),i=t(29113),u=t(40152),h=n(t(5271)),C=[{value:"utf8",label:"UTF8"},{value:"utf8mb4",label:"UTF8MB4"},{value:"latin1",label:"LATIN1"},{value:"latin2",label:"LATIN2"},{value:"latin5",label:"LATIN5"},{value:"latin7",label:"LATIN7"},{value:"gbk",label:"GBK"},{value:"ascii",label:"ASCII"},{value:"binary",label:"BINARY"}];a.CHARSET_LIST=C;var l=[">","<",">=","<=","!=","=","IN","NOT IN","LIKE","NOT LIKE","IS NOT NULL","IS NULL"].map(function(j){return{value:j,label:j}});a.operationList=l;var D=[">","<",">=","<=","!=","="].map(function(j){return{value:j,label:j}});a.operationListBase=D;var f=/^[a-zA-Z](_?[a-zA-Z0-9])*_?$/;a.MYSQL_FIELD_PATTERN=f;var s=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];a.Letters=s;var y=["DATE","TIME","DATETIME","TIMESTAMP","YEAR"];a.TIME_TYPE=y;var T=[{id:"auto",name:"auto"},{id:1,name:1},{id:2,name:2},{id:5,name:5},{id:10,name:10},{id:30,name:30},{id:60,name:60},{id:120,name:120},{id:300,name:300},{id:600,name:600},{id:900,name:900}];a.INTERVAL_LIST=T;var g=[{id:"m",name:"min"},{id:"s",name:"s"},{id:"h",name:"hour"},{id:"d",name:"day"}];a.INTERVAL_UNIT_LIST=g;function d(j){return["integer","float"].includes(j)?"number":["string"].includes(j)?"string":["datetime","date","time","timestamp"].includes(j)?"date":j==="boolean"?"boolean":null}var v=[{id:"original value",name:"\u539F\u59CB\u503C"},{id:"1 min",name:"1 \u5206\u949F"},{id:"5 min",name:"5 \u5206\u949F"},{id:"10 min",name:"10 \u5206\u949F"},{id:"30 min",name:"30 \u5206\u949F"},{id:"1 hour",name:"1 \u5C0F\u65F6"},{id:"1 day",name:"1 \u5929"},{id:"1 week",name:"1 \u5468"}];a.TimeAggregateList=v;var p={ref_id:Math.random().toString(16).substr(4,10),format:"row",query_text:"",raw_query:!1,table:"",x:{name:"",type:"time"},where:[],select:[],group:[],order:[],limit:{size:null,offset:null},datasource:{type:"mysql",id:"5",uid:"JHtUr9NnUKvZuA7t8frYwG"}};a.initQuery=p;var b={type:"",uid:""};a.initDataSource=b;var O={i:u.VIRTUAL_ROOT,h:6,w:10,x:0,y:0};a.initGridPos=O;var P={uid:u.VIRTUAL_ROOT,type:"add-panel",title:"\u56FE\u88681",sub_title:"",build_in:!0,space_uid:"",options:{canFocus:!0,visible:!0},meta:{created:"2017-02-15T07:51:08Z",updated:"2021-12-06T18:08:43Z",updatedBy:"ward.bekker@grafana.com",createdBy:"torkel.odegaard@gmail.com",updated_by:"string",created_by:"string",version:"string"},gridPos:O,datasource:(0,i.deepClone)(b),query:[],chartConfig:{}};a.initPanel=P;function m(){return Object.assign(new e.PanelModel,{uid:(0,h.default)(),title:"\u65B0\u6807\u7B7E\u9875",panels:[],type:"if"})}var r=[{id:"auto",name:"\u81EA\u52A8"},{id:"string",name:"\u5B57\u7B26\u4E32"},{id:"number",name:"\u6570\u5B57"},{id:"time",name:"\u65F6\u95F4"},{id:"boolean",name:"\u5E03\u5C14\u503C"}];a.FIELD_TYPES=r;var c=[{name:"\u6C42\u548C",id:"SUM"},{name:"\u6700\u5C0F\u503C",id:"MIN"},{name:"\u6700\u5927\u503C",id:"MAX"},{name:"\u8BA1\u6570",id:"COUNT"},{name:"\u53BB\u91CD\u8BA1\u6570",id:"DISCOUNT"},{name:"\u5E73\u5747\u503C",id:"AVG"}];a.AGGREGATION_LIST=c;function S(j){switch(d(j)){case"string":return[{name:"\u8BA1\u6570",id:"COUNT"},{name:"\u53BB\u91CD\u8BA1\u6570",id:"DISCOUNT"}];case"boolean":return[{name:"\u6C42\u548C",id:"SUM"},{name:"\u8BA1\u6570",id:"COUNT"},{name:"\u53BB\u91CD\u8BA1\u6570",id:"DISCOUNT"}];default:return c.slice()}}var M=[{name:"\u5237\u65B0",id:-1},{name:"1m",id:60*1e3},{name:"5m",id:5*60*1e3},{name:"15m",id:15*60*1e3},{name:"30m",id:30*60*1e3},{name:"1h",id:60*60*1e3},{name:"2h",id:60*2*60*1e3},{name:"1d",id:60*24*60*1e3}];a.REFRESH_DEFAULT_LIST=M},95939:function(o,a,t){"use strict";t(37209),t(84873),Object.defineProperty(a,"__esModule",{value:!0});var n=t(7751);Object.keys(n).forEach(function(l){l==="default"||l==="__esModule"||l in a&&a[l]===n[l]||Object.defineProperty(a,l,{enumerable:!0,get:function(){return n[l]}})});var e=t(40152);Object.keys(e).forEach(function(l){l==="default"||l==="__esModule"||l in a&&a[l]===e[l]||Object.defineProperty(a,l,{enumerable:!0,get:function(){return e[l]}})});var i=t(71633);Object.keys(i).forEach(function(l){l==="default"||l==="__esModule"||l in a&&a[l]===i[l]||Object.defineProperty(a,l,{enumerable:!0,get:function(){return i[l]}})});var u=t(7094);Object.keys(u).forEach(function(l){l==="default"||l==="__esModule"||l in a&&a[l]===u[l]||Object.defineProperty(a,l,{enumerable:!0,get:function(){return u[l]}})});var h=t(89473);Object.keys(h).forEach(function(l){l==="default"||l==="__esModule"||l in a&&a[l]===h[l]||Object.defineProperty(a,l,{enumerable:!0,get:function(){return h[l]}})});var C=t(51696);Object.keys(C).forEach(function(l){l==="default"||l==="__esModule"||l in a&&a[l]===C[l]||Object.defineProperty(a,l,{enumerable:!0,get:function(){return C[l]}})})},7094:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.weekList=a.timezoneList=a.policyList=a.attributeList=void 0;var t=[{label:"\u5355\u6B21",value:"single"},{label:"\u5468\u671F",value:"period"}];a.attributeList=t;var n=[{label:"\u6BCF\u65F6",value:"hour"},{label:"\u6BCF\u5929",value:"day"},{label:"\u6BCF\u5468",value:"week"},{label:"\u6BCF\u6708",value:"month"}];a.policyList=n;var e=[{label:"\u661F\u671F\u4E00",value:1},{label:"\u661F\u671F\u4E8C",value:2},{label:"\u661F\u671F\u4E09",value:3},{label:"\u661F\u671F\u56DB",value:4},{label:"\u661F\u671F\u4E94",value:5},{label:"\u661F\u671F\u516D",value:6},{label:"\u661F\u671F\u65E5",value:0}];a.weekList=e;var i=[{name:"(UTC-12:00) \u56FD\u9645\u65E5\u671F\u53D8\u66F4\u7EBF\u897F",id:"Etc/GMT+12"},{name:"(UTC-11:00) \u534F\u8C03\u4E16\u754C\u65F6-11",id:"Etc/GMT+11"},{name:"(UTC-10:00) \u590F\u5A01\u5937",id:"Pacific/Honolulu"},{name:"(UTC-09:00) \u5B89\u514B\u96F7\u5947",id:"America/Anchorage"},{name:"(UTC-08:00) \u4E0B\u52A0\u5229\u798F\u5C3C\u4E9A\u5DDE",id:"America/Santa_Isabel"},{name:"(UTC-08:00) \u592A\u5E73\u6D0B\u65F6\u95F4\uFF08\u7F8E\u56FD\u548C\u52A0\u62FF\u5927\uFF09",id:"America/Los_Angeles"},{name:"(UTC-07:00) \u5947\u74E6\u74E6,\u62C9\u5DF4\u65AF,\u9A6C\u8428\u7279\u5170",id:"America/Chihuahua"},{name:"(UTC-07:00) \u4E9A\u5229\u6851\u90A3",id:"America/Phoenix"},{name:"(UTC-07:00) \u5C71\u5730\u65F6\u95F4\uFF08\u7F8E\u56FD\u548C\u52A0\u62FF\u5927\uFF09",id:"America/Denver"},{name:"(UTC-06:00) \u4E2D\u7F8E\u6D32",id:"America/Guatemala"},{name:"(UTC-06:00) \u4E2D\u90E8\u65F6\u95F4\uFF08\u7F8E\u56FD\u548C\u52A0\u62FF\u5927\uFF09",id:"America/Chicago"},{name:"(UTC-06:00) \u8428\u65AF\u5580\u5F7B\u6E29",id:"America/Regina"},{name:"(UTC-06:00) \u74DC\u8FBE\u62C9\u54C8\u62C9,\u58A8\u897F\u54E5\u57CE,\u8499\u7279\u96F7",id:"America/Mexico_City"},{name:"(UTC-05:00) \u6CE2\u54E5\u5927,\u5229\u9A6C,\u57FA\u591A",id:"America/Bogota"},{name:"(UTC-05:00) \u5370\u5730\u5B89\u90A3\u5DDE\uFF08\u4E1C\u90E8\uFF09",id:"America/Indiana/Indianapolis"},{name:"(UTC-05:00) \u4E1C\u90E8\u65F6\u95F4\uFF08\u7F8E\u56FD\u548C\u52A0\u62FF\u5927\uFF09",id:"America/New_York"},{name:"(UTC-04:30) \u52A0\u62C9\u52A0\u65AF",id:"America/Caracas"},{name:"(UTC-04:00) \u5927\u897F\u6D0B\u65F6\u95F4\uFF08\u52A0\u62FF\u5927\uFF09",id:"America/Halifax"},{name:"(UTC-04:00) \u4E9A\u677E\u68EE",id:"America/Asuncion"},{name:"(UTC-04:00) \u4E54\u6CBB\u6566,\u62C9\u5DF4\u65AF,\u9A6C\u7459\u65AF,\u5723\u80E1\u5B89",id:"America/La_Paz"},{name:"(UTC-04:00) \u5E93\u4E9A\u5DF4",id:"America/Cuiaba"},{name:"(UTC-04:00) \u5723\u5730\u4E9A\u54E5",id:"America/Santiago"},{name:"(UTC-03:30) \u7EBD\u82AC\u5170",id:"America/St_Johns"},{name:"(UTC-03:00) \u5DF4\u897F\u5229\u4E9A",id:"America/Sao_Paulo"},{name:"(UTC-03:00) \u683C\u9675\u5170",id:"America/Godthab"},{name:"(UTC-03:00) \u5361\u5BB4,\u798F\u5854\u96F7\u8428",id:"America/Cayenne"},{name:"(UTC-03:00) \u5E03\u5B9C\u8BFA\u65AF\u827E\u5229\u65AF",id:"America/Argentina/Buenos_Aires"},{name:"(UTC-03:00) \u8499\u5F97\u7EF4\u7684\u4E9A",id:"America/Montevideo"},{name:"(UTC-02:00) \u534F\u8C03\u4E16\u754C\u65F6-2",id:"Etc/GMT+2"},{name:"(UTC-01:00) \u4F5B\u5F97\u89D2\u7FA4\u5C9B",id:"Atlantic/Cape_Verde"},{name:"(UTC-01:00) \u4E9A\u901F\u5C14\u7FA4\u5C9B",id:"Atlantic/Azores"},{name:"(UTC+00:00) \u5361\u8428\u5E03\u5170\u5361",id:"Africa/Casablanca"},{name:"(UTC+00:00) \u8499\u7F57\u7EF4\u4E9A,\u96F7\u514B\u96C5\u672A\u514B",id:"Atlantic/Reykjavik"},{name:"(UTC+00:00) \u90FD\u67CF\u6797,\u7231\u4E01\u5821,\u91CC\u65AF\u672C,\u4F26\u6566",id:"Europe/London"},{name:"(UTC+00:00) \u534F\u8C03\u4E16\u754C\u65F6",id:"Etc/GMT"},{name:"(UTC+01:00) \u963F\u59C6\u65AF\u7279\u4E39,\u67CF\u6797,\u4F2F\u5C14\u5C3C,\u7F57\u9A6C,\u65AF\u5FB7\u54E5\u5C14\u6469,\u7EF4\u4E5F\u7EB3",id:"Europe/Berlin"},{name:"(UTC+01:00) \u5E03\u9C81\u585E\u5C14,\u54E5\u672C\u54C8\u6839,\u9A6C\u5FB7\u91CC,\u5DF4\u9ECE",id:"Europe/Paris"},{name:"(UTC+01:00) \u4E2D\u975E\u897F\u90E8",id:"Africa/Lagos"},{name:"(UTC+01:00) \u8D1D\u5C14\u683C\u83B1\u5FB7,\u5E03\u62C9\u8FEA\u65AF\u62C9\u53D1,\u5E03\u8FBE\u4F69\u65AF,\u5362\u5E03\u5C14\u96C5\u90A3,\u5E03\u62C9\u683C",id:"Europe/Budapes"},{name:"(UTC+01:00) \u8428\u62C9\u70ED\u7A9D,\u65AF\u79D1\u666E\u91CC,\u534E\u6C99,\u8428\u683C\u52D2\u5E03",id:"Europe/Warsaw"},{name:"(UTC+01:00) \u6E29\u5F97\u548C\u514B",id:"Africa/Windhoek"},{name:"(UTC+02:00) \u96C5\u5178,\u5E03\u52A0\u52D2\u65AF\u7279,\u4F0A\u65AF\u5766\u5E03\u5C14",id:"Europe/Istanbul"},{name:"(UTC+02:00) \u8D6B\u5C14\u8F9B\u57FA,\u57FA\u8F85,\u91CC\u52A0,\u7D22\u975E\u4E9A,\u5854\u6797,\u7EF4\u5C14\u7EBD\u65AF",id:"Europe/Kiev"},{name:"(UTC+02:00) \u5F00\u7F57",id:"Africa/Cairo"},{name:"(UTC+02:00) \u5927\u9A6C\u58EB\u9769",id:"Asia/Damascus"},{name:"(UTC+02:00) \u5B89\u66FC",id:"Asia/Amman"},{name:"(UTC+02:00) \u54C8\u62C9\u96F7,\u6BD4\u52D2\u9640\u5229\u4E9A",id:"Africa/Johannesburg"},{name:"(UTC+02:00) \u8036\u8DEF\u6492\u51B7",id:"Asia/Jerusalem"},{name:"(UTC+02:00) \u8D1D\u9C81\u7279",id:"Asia/Beirut"},{name:"(UTC+03:00) \u5DF4\u683C\u8FBE",id:"Asia/Baghdad"},{name:"(UTC+03:00) \u660E\u65AF\u514B",id:"Europe/Minsk"},{name:"(UTC+03:00) \u5229\u96C5\u5F97",id:"Asia/Riyadh"},{name:"(UTC+03:00) \u5185\u7F57\u6BD5",id:"Africa/Nairobi"},{name:"(UTC+03:30) \u5FB7\u9ED1\u5170",id:"Asia/Tehran"},{name:"(UTC+04:00) \u83AB\u65AF\u79D1,\u5723\u5F7C\u5F97\u5821,\u4F0F\u5C14\u52A0\u683C\u52D2",id:"Europe/Moscow"},{name:"(UTC+04:00) \u7B2C\u6BD4\u5229\u65AF",id:"Asia/Tbilisi"},{name:"(UTC+04:00) \u57C3\u91CC\u6E29",id:"Asia/Yerevan"},{name:"(UTC+04:00) \u963F\u5E03\u624E\u6BD4,\u9A6C\u65AF\u5580\u7279",id:"Asia/Dubai"},{name:"(UTC+04:00) \u5DF4\u5E93",id:"Asia/Baku"},{name:"(UTC+04:00) \u8DEF\u6613\u6E2F",id:"Indian/Mauritius"},{name:"(UTC+04:30) \u5580\u5E03\u5C14",id:"Asia/Kabul"},{name:"(UTC+05:00) \u5854\u4EC0\u5E72",id:"Asia/Tashkent"},{name:"(UTC+05:00) \u4F0A\u65AF\u5170\u5821,\u5361\u62C9\u5947",id:"Asia/Karachi"},{name:"(UTC+05:30) \u65AF\u91CC\u52A0\u4E9A\u6E25\u767B\u666E\u62C9",id:"Asia/Colombo"},{name:"(UTC+05:30) \u94A6\u5948,\u52A0\u5C14\u5404\u7B54,\u5B5F\u4E70,\u65B0\u5FB7\u91CC",id:"Asia/Kolkata"},{name:"(UTC+05:45) \u52A0\u5FB7\u6EE1\u90FD",id:"Asia/Kathmandu"},{name:"(UTC+06:00) \u963F\u65AF\u5854\u7EB3",id:"Asia/Almaty"},{name:"(UTC+06:00) \u8FBE\u5361",id:"Asia/Dhaka"},{name:"(UTC+06:00) \u53F6\u5361\u6377\u7433\u5821",id:"Asia/Yekaterinburg"},{name:"(UTC+06:30) \u4EF0\u5149",id:"Asia/Yangon"},{name:"(UTC+07:00) \u66FC\u8C37,\u6CB3\u5185,\u96C5\u52A0\u8FBE",id:"Asia/Bangkok"},{name:"(UTC+07:00) \u65B0\u897F\u4F2F\u5229\u4E9A",id:"Asia/Novosibirsk"},{name:"(UTC+08:00) \u514B\u62C9\u65AF\u8BFA\u4E9A\u5C14\u65AF\u514B",id:"Asia/Krasnoyarsk"},{name:"(UTC+08:00) \u4E4C\u5170\u5DF4\u6258",id:"Asia/Ulaanbaatar"},{name:"(UTC+08:00) \u5317\u4EAC,\u91CD\u5E86,\u9999\u6E2F,\u4E4C\u9C81\u6728\u9F50",id:"Asia/Shanghai"},{name:"(UTC+08:00) \u4F69\u601D",id:"Australia/Perth"},{name:"(UTC+08:00) \u5409\u9686\u5761,\u65B0\u52A0\u5761",id:"Asia/Singapore"},{name:"(UTC+08:00) \u53F0\u5317",id:"Asia/Taipei"},{name:"(UTC+09:00) \u4F0A\u5C14\u5E93\u8328\u514B",id:"Asia/Irkutsk"},{name:"(UTC+09:00) \u9996\u5C14",id:"Asia/Seoul"},{name:"(UTC+09:00) \u5927\u962A,\u672D\u5E4C,\u4E1C\u4EAC",id:"Asia/Tokyo"},{name:"(UTC+09:30) \u8FBE\u5C14\u6587",id:"Australia/Darwin"},{name:"(UTC+09:30) \u963F\u5FB7\u83B1\u5FB7",id:"Australia/Adelaide"},{name:"(UTC+10:00) \u970D\u5DF4\u7279",id:"Australia/Hobart"},{name:"(UTC+10:00) \u96C5\u5E93\u8328\u514B",id:"Asia/Yakutsk"},{name:"(UTC+10:00) \u5E03\u91CC\u65AF\u73ED",id:"Australia/Brisbane"},{name:"(UTC+10:00) \u5173\u5C9B,\u83AB\u5C14\u5179\u6BD4\u6E2F",id:"Pacific/Port_Moresby"},{name:"(UTC+10:00) \u582A\u57F9\u62C9,\u58A8\u5C14\u672C,\u6089\u5C3C",id:"Australia/Sydney"},{name:"(UTC+11:00) \u7B26\u62C9\u8FEA\u6C83\u65AF\u6258\u514B",id:"Asia/Vladivostok"},{name:"(UTC+11:00) \u6240\u7F57\u95E8\u7FA4\u5C9B,\u65B0\u5580\u91CC\u591A\u5C3C\u4E9A",id:"Pacific/Guadalcanal"},{name:"(UTC+12:00) \u534F\u8C03\u4E16\u754C\u65F6+12",id:"Etc/GMT-12"},{name:"(UTC+12:00) \u6590\u6D4E,\u9A6C\u7ECD\u5C14\u7FA4\u5C9B",id:"Pacific/Fiji"},{name:"(UTC+12:00) \u9A6C\u52A0\u4E39",id:"Asia/Magadan"},{name:"(UTC+12:00) \u5965\u514B\u5170,\u60E0\u7075\u987F",id:"Pacific/Auckland"},{name:"(UTC+13:00) \u52AA\u5E93\u963F\u6D1B\u6CD5",id:"Pacific/Tongatapu"},{name:"(UTC+13:00) \u8428\u6469\u4E9A\u7FA4\u5C9B",id:"Pacific/Apia"}];a.timezoneList=i},89473:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.colorList=void 0;var e=n(t(89357)),i=n(t(72125)),u={default:{img:e.default,name:"\u51B7\u8272\u8C03",uid:"default",colors:["#2C2599","#3762B8","#3E96C2","#61B2C2","#85CCA8","#B5E0AB","#D2E6B8","#96C989","#F1CE1A","#7EC7E7","#E28D68","#5766ED","#EC6D93","#8F87E1","#6ECD94","#F6A52C","#5ACCCC","#CC7575","#4185EB","#DD6CD2","#8A88C1","#7CB3A3","#DBD84D","#8DBAD3","#D38D8D","#4E76B1","#BF92CB"]},warm:{img:i.default,name:"\u6696\u8272\u8C03",uid:"warm",colors:["#D66F6B","#F5876C","#FFA66B","#FFA66B","#FFE294","#FFF4AD","#EBF0A3","#F0AE69","#689DF3","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300","#447EBC","#C15C17","#890F02","#0A437C","#6D1F62","#584477","#B7DBAB","#F4D598","#70DBED","#F9BA8F","#F29191","#82B5D8","#E5A8E2","#AEA2E0","#629E51","#E5AC0E","#64B0C8","#E0752D","#BF1B00","#0A50A1","#962D82","#614D93","#9AC48A","#F2C96D","#65C5DB","#F9934E","#EA6460","#5195CE","#D683CE","#806EB7","#3F6833","#967302","#2F575E","#99440A","#58140C","#052B51","#511749","#3F2B5B","#E0F9D7","#FCEACA","#CFFAFF","#F9E2D2","#FCE2DE","#BADFF4","#F9D9F9","#DEDAF7"]}};a.colorList=u},57178:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"X",{value:!0}),a.S=l,t(9100);var e=n(t(64375)),i=t(70748),u=n(t(85999)),h=n(t(16906)),C=t(12692);function l(D,f,s){var y;if(!D||!f)return!1;s.apiPrefix&&(h.default.defaults.baseURL=s.apiPrefix);var T=(y=s.timeRange)!==null&&y!==void 0?y:[],g=(0,e.default)(T,2),d=g[0],v=g[1],p=(0,i.ref)(new C.ShareFormData);Object.assign(p.value,{uid:f,start_time:d,end_time:v});var b={shareData:p.value,shareType:"sdk"},O=(0,i.createApp)(u.default,b).mount(D);return{app:O}}},99185:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(86291)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(9403).then(t.bind(t,89403))}),C=(0,e.defineAsyncComponent)(function(){return t.e(1042).then(t.bind(t,41042))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigFormBar};a.default=l},22169:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(35089)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(9822).then(t.bind(t,79822))}),C=(0,e.defineAsyncComponent)(function(){return t.e(1588).then(t.bind(t,21588))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigFormGauge};a.default=l},82805:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(13208)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(6345).then(t.bind(t,6345))}),C=(0,e.defineAsyncComponent)(function(){return t.e(7324).then(t.bind(t,37324))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigFormImage};a.default=l},45516:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.ChartSourceImgBuildIn=a.ChartSourceBuildIn=void 0;var e=n(t(12190)),i=n(t(19409)),u=n(t(70729)),h=n(t(19754)),C=n(t(31282)),l=n(t(78153)),D=n(t(35089)),f=n(t(73743)),s=n(t(22169)),y=n(t(41612)),T=n(t(93330)),g=n(t(52627)),d=n(t(39565)),v=n(t(75907)),p=n(t(51949)),b=n(t(86291)),O=n(t(65761)),P=n(t(99185)),m=n(t(54336)),r=n(t(41909)),c=n(t(55662)),S=n(t(13208)),M=n(t(56928)),j=n(t(82805)),R=n(t(29176)),L=n(t(72901)),F=n(t(11080)),V={[h.default.type]:l.default,[e.default.type]:u.default,[D.default.type]:s.default,[y.default.type]:g.default,[d.default.type]:p.default,[b.default.type]:P.default,[m.default.type]:c.default,[S.default.type]:j.default,[R.default.type]:F.default};a.ChartSourceBuildIn=V;var I={[e.default.type]:i.default,[h.default.type]:C.default,[D.default.type]:f.default,[y.default.type]:T.default,[d.default.type]:v.default,[b.default.type]:O.default,[m.default.type]:r.default,[S.default.type]:M.default,[R.default.type]:L.default};a.ChartSourceImgBuildIn=I},55662:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(54336)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(9353).then(t.bind(t,9353))}),C=(0,e.defineAsyncComponent)(function(){return t.e(6048).then(t.bind(t,56048))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigFormNumberPanel};a.default=l},70729:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(12190)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(9515).then(t.bind(t,9515))}),C=(0,e.defineAsyncComponent)(function(){return t.e(2501).then(t.bind(t,92501))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigFormPie};a.default=l},78153:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(19754)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(2093).then(t.bind(t,62093))}),C=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(7875),t.e(8831)]).then(t.bind(t,32125))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigRichText};a.default=l},11080:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(29176)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(3638).then(t.bind(t,3638))}),C=(0,e.defineAsyncComponent)(function(){return t.e(5559).then(t.bind(t,85559))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigFormTable};a.default=l},51949:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(39565)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(9403).then(t.bind(t,89403))}),C=(0,e.defineAsyncComponent)(function(){return t.e(4817).then(t.bind(t,94817))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartTimeSeriesMixedForm};a.default=l},52627:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(41612)),u=t(367),h=(0,e.defineAsyncComponent)(function(){return t.e(9403).then(t.bind(t,89403))}),C=(0,e.defineAsyncComponent)(function(){return t.e(6565).then(t.bind(t,66565))}),l={ChartPanel:h,PropsPanel:C,meta:i.default,Form:u.ChartConfigForm};a.default=l},367:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.VisualConfigWordCloud=a.VisualConfigTitle=a.VisualConfigTable=a.VisualConfigPie=a.VisualConfigNumberPanel=a.VisualConfigMap=a.VisualConfigImage=a.VisualConfigGauge=a.VisualConfigFunnel=a.VisualConfigDigitalTrends=a.VisualConfig=a.Tooltip=a.TextColumnConfig=a.StatisticsConfig=a.RadialGradientColor=a.PieChartConfig=a.PercentColumnOption=a.LinearGradientColor=a.Legend=a.ImageColumnOption=a.ColumnConfig=a.ColorConfig=a.ChartTimeSeriesMixedForm=a.ChartDataLabel=a.ChartConfigWordCloud=a.ChartConfigRichText=a.ChartConfigFormTitle=a.ChartConfigFormTable=a.ChartConfigFormPie=a.ChartConfigFormNumberPanel=a.ChartConfigFormMap=a.ChartConfigFormImage=a.ChartConfigFormGauge=a.ChartConfigFormFunnel=a.ChartConfigFormDigitalTrends=a.ChartConfigFormBar=a.ChartConfigForm=a.AxisMap=a.AxisConfig=a.AdvanceConfigTitle=void 0;var e=n(t(63638));class i{constructor(){(0,e.default)(this,"ladder",!1),(0,e.default)(this,"stack",!1),(0,e.default)(this,"padding",!1),(0,e.default)(this,"lineWidth",3),(0,e.default)(this,"direction","vertical"),(0,e.default)(this,"withoutKeyPoints",!0),(0,e.default)(this,"paddingOpacity",0),(0,e.default)(this,"lineType",!1),(0,e.default)(this,"symbolSize",0)}}a.VisualConfig=i;class u{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"xAxisMax",null),(0,e.default)(this,"xAxisMin",null),(0,e.default)(this,"yAxisMax",null),(0,e.default)(this,"yAxisMin",null),(0,e.default)(this,"xAxisTimeFormat",null),(0,e.default)(this,"yAxisUnit",""),(0,e.default)(this,"threshold",[]),(0,e.default)(this,"inverted",!1),(0,e.default)(this,"yAxisValueType","bar"),(0,e.default)(this,"yAxisValuePosition",0),(0,e.default)(this,"rotate",0)}}a.AxisConfig=u;class h{constructor(){(0,e.default)(this,"min",!0),(0,e.default)(this,"max",!0),(0,e.default)(this,"avg",!0),(0,e.default)(this,"latest",!0),(0,e.default)(this,"total",!0),(0,e.default)(this,"show",!1),(0,e.default)(this,"position","bottom")}}a.StatisticsConfig=h;class C{constructor(){(0,e.default)(this,"order","valueDesc"),(0,e.default)(this,"percentage",!1),(0,e.default)(this,"statistics_percent",!1)}}a.Tooltip=C;class l{constructor(){(0,e.default)(this,"hide",!1),(0,e.default)(this,"position","bottom")}}a.Legend=l;class D{constructor(){(0,e.default)(this,"show",!1),(0,e.default)(this,"position","top"),(0,e.default)(this,"rotate",0),(0,e.default)(this,"showYLine",!0)}}a.ChartDataLabel=D;class f{constructor(){(0,e.default)(this,"visual",new i),(0,e.default)(this,"tooltip",new C),(0,e.default)(this,"label",new D),(0,e.default)(this,"legend",new l),(0,e.default)(this,"statistics",new h),(0,e.default)(this,"Axis",new u),(0,e.default)(this,"AxisSecond",new u),(0,e.default)(this,"colors",new H),(0,e.default)(this,"flex",void 0)}}a.ChartConfigForm=f;class s{constructor(){(0,e.default)(this,"visual",{direction:"vertical",withoutKeyPoints:!1,stack:"close",xType:"category",width:50,opacity:100,showBackground:!1}),(0,e.default)(this,"Axis",new u),(0,e.default)(this,"legend",{show:!0,position:"bottom"}),(0,e.default)(this,"label",new D),(0,e.default)(this,"tooltip",new C),(0,e.default)(this,"colors",new H)}}a.ChartConfigFormBar=s;class y{constructor(){(0,e.default)(this,"visual",{direction:"vertical",withoutKeyPoints:!1,stack:!1}),(0,e.default)(this,"Axis",new u),(0,e.default)(this,"AxisSecond",new u),(0,e.default)(this,"legend",new l),(0,e.default)(this,"label",new D),(0,e.default)(this,"tooltip",new C),(0,e.default)(this,"colors",new H)}}a.ChartTimeSeriesMixedForm=y;class T{constructor(){(0,e.default)(this,"unit",""),(0,e.default)(this,"unfold",!1),(0,e.default)(this,"unfoldNumber",10),(0,e.default)(this,"label",!0),(0,e.default)(this,"labelAlign","none")}}a.VisualConfigPie=T;class g{constructor(){(0,e.default)(this,"max",100),(0,e.default)(this,"unit",""),(0,e.default)(this,"areas",[null])}}a.VisualConfigGauge=g;class d{constructor(){(0,e.default)(this,"searchable",!1),(0,e.default)(this,"align","center"),(0,e.default)(this,"showHeader",!0),(0,e.default)(this,"showSummary",!1),(0,e.default)(this,"showFilter",!0),(0,e.default)(this,"showSorted",!0),(0,e.default)(this,"sortedScope","all"),(0,e.default)(this,"minColumnWidth",0),(0,e.default)(this,"showPagination",!0),(0,e.default)(this,"size",10),(0,e.default)(this,"showSetting",!1),(0,e.default)(this,"borders",["row"]),(0,e.default)(this,"isFixed",!1),(0,e.default)(this,"fixedLeft",0),(0,e.default)(this,"fixedRight",0),(0,e.default)(this,"columnWidth",""),(0,e.default)(this,"linkField",""),(0,e.default)(this,"noValue",""),(0,e.default)(this,"statisticalFunction","total"),(0,e.default)(this,"cellDisplayModel","auto"),(0,e.default)(this,"customColumn",[]),(0,e.default)(this,"hideColumns",[])}}a.VisualConfigTable=d;class v{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"renderType","text"),(0,e.default)(this,"width",null),(0,e.default)(this,"option",new p)}}a.ColumnConfig=v;class p{constructor(){(0,e.default)(this,"isFormat",!1),(0,e.default)(this,"colorType","font"),(0,e.default)(this,"colorRenderPattern","loop"),(0,e.default)(this,"loopNumber",null),(0,e.default)(this,"size",4),(0,e.default)(this,"unit",""),(0,e.default)(this,"map",{key:"",value:""}),(0,e.default)(this,"link",{baseUrl:"",target:"_self",dynamicUrl:[],params:[]})}}a.TextColumnConfig=p;class b{constructor(){(0,e.default)(this,"height",30),(0,e.default)(this,"width",null),(0,e.default)(this,"preView",!0)}}a.ImageColumnOption=b;class O{constructor(){(0,e.default)(this,"progressBc","#999"),(0,e.default)(this,"textColor","#000"),(0,e.default)(this,"textType","origin"),(0,e.default)(this,"point",2),(0,e.default)(this,"max",null)}}a.PercentColumnOption=O;class P{constructor(){(0,e.default)(this,"fontSize",64),(0,e.default)(this,"textSize",20),(0,e.default)(this,"textColor","#484848"),(0,e.default)(this,"noDataFontSize",64),(0,e.default)(this,"noDataText","NoData"),(0,e.default)(this,"noDataColor","#ff0000"),(0,e.default)(this,"units",[]),(0,e.default)(this,"color","#484848"),(0,e.default)(this,"isShowText",!0),(0,e.default)(this,"isMom",!1),(0,e.default)(this,"isYoy",!1)}}a.VisualConfigNumberPanel=P;class m{constructor(){(0,e.default)(this,"urlType","local"),(0,e.default)(this,"url",""),(0,e.default)(this,"link",""),(0,e.default)(this,"showBorder",!0),(0,e.default)(this,"border",{type:"solid",width:1}),(0,e.default)(this,"fit","contain"),(0,e.default)(this,"radius",0)}}a.VisualConfigImage=m;class r{constructor(){(0,e.default)(this,"numberSize",64),(0,e.default)(this,"unit",""),(0,e.default)(this,"subTitleSize",32),(0,e.default)(this,"subTitleSuffix",""),(0,e.default)(this,"compareDelay",1),(0,e.default)(this,"isGradient",!0),(0,e.default)(this,"min",null),(0,e.default)(this,"max",null),(0,e.default)(this,"timeFormat",""),(0,e.default)(this,"customTimeFormat",""),(0,e.default)(this,"areaColor",new c)}}a.VisualConfigDigitalTrends=r;class c{constructor(){(0,e.default)(this,"type","linear"),(0,e.default)(this,"x",0),(0,e.default)(this,"y",0),(0,e.default)(this,"x2",0),(0,e.default)(this,"y2",1),(0,e.default)(this,"colorStops",[])}}a.LinearGradientColor=c;class S{constructor(){(0,e.default)(this,"type","radial"),(0,e.default)(this,"x",.5),(0,e.default)(this,"y",.5),(0,e.default)(this,"r",.5),(0,e.default)(this,"colorStops",[])}}a.RadialGradientColor=S;class M{constructor(){(0,e.default)(this,"content",""),(0,e.default)(this,"size",16),(0,e.default)(this,"textColor","#000"),(0,e.default)(this,"backGroundColor",""),(0,e.default)(this,"textAlign","left"),(0,e.default)(this,"isBold",!1),(0,e.default)(this,"isItalic",!1)}}a.VisualConfigTitle=M;class j{constructor(){(0,e.default)(this,"showShadow",!1),(0,e.default)(this,"textShadow",{x:1,y:1,blurry:0,color:"#000"}),(0,e.default)(this,"link",""),(0,e.default)(this,"letterSpace","normal")}}a.AdvanceConfigTitle=j;class R{constructor(){(0,e.default)(this,"orient","vertical"),(0,e.default)(this,"sort","descending"),(0,e.default)(this,"gap",0),(0,e.default)(this,"funnelAlign","center"),(0,e.default)(this,"label",{show:!0,position:"outside"}),(0,e.default)(this,"showLabelLine",!0),(0,e.default)(this,"maxSize",{type:"percent",value:100}),(0,e.default)(this,"minSize",{type:"percent",value:0})}}a.VisualConfigFunnel=R;class L{constructor(){(0,e.default)(this,"shape","circle"),(0,e.default)(this,"sizeRange",[12,60]),(0,e.default)(this,"rotationRange",[-90,90]),(0,e.default)(this,"rotationStep",45),(0,e.default)(this,"gridSize",8)}}a.VisualConfigWordCloud=L;class F{constructor(){(0,e.default)(this,"visual",new L)}}a.ChartConfigWordCloud=F;class V{constructor(){(0,e.default)(this,"visual",new d),(0,e.default)(this,"colors",new H)}}a.ChartConfigFormTable=V;class I{constructor(){(0,e.default)(this,"visual",new P)}}a.ChartConfigFormNumberPanel=I;class Q{constructor(){(0,e.default)(this,"type","pie"),(0,e.default)(this,"radius",[20,40]),(0,e.default)(this,"center",["50%","38%"]),(0,e.default)(this,"borderRadius",!1)}}a.PieChartConfig=Q;class Y{constructor(){(0,e.default)(this,"visual",new r),(0,e.default)(this,"colors",new H)}}a.ChartConfigFormDigitalTrends=Y;class ${constructor(){(0,e.default)(this,"visual",new g),(0,e.default)(this,"colors",new H),(0,e.default)(this,"legend",new l)}}a.ChartConfigFormGauge=$;class Z{constructor(){(0,e.default)(this,"content",""),(0,e.default)(this,"mapping",{isShow:!1,list:[]})}}a.ChartConfigRichText=Z;class x{constructor(){(0,e.default)(this,"visual",new T),(0,e.default)(this,"colors",new H),(0,e.default)(this,"tooltip",new C),(0,e.default)(this,"legend",new l),(0,e.default)(this,"pie",new Q)}}a.ChartConfigFormPie=x;class k{constructor(){(0,e.default)(this,"visual",new m),(0,e.default)(this,"colors",new H)}}a.ChartConfigFormImage=k;class K{constructor(){(0,e.default)(this,"visual",new M),(0,e.default)(this,"advance",new j)}}a.ChartConfigFormTitle=K;class w{constructor(){(0,e.default)(this,"visual",new R),(0,e.default)(this,"colors",new H)}}a.ChartConfigFormFunnel=w;class H{constructor(){(0,e.default)(this,"color",[])}}a.ColorConfig=H;class E{constructor(){(0,e.default)(this,"showLabel",!0),(0,e.default)(this,"mapType","Map")}}a.VisualConfigMap=E;class B{constructor(){(0,e.default)(this,"unit",""),(0,e.default)(this,"showStaticPercent",!1)}}a.AxisMap=B;class U{constructor(){(0,e.default)(this,"visual",new E),(0,e.default)(this,"axis",new B),(0,e.default)(this,"colors",new H)}}a.ChartConfigFormMap=U},98990:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t={panel:{type:Object,required:!0},panelList:{type:Object,required:!0}},n=t;a.default=n},35788:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t={editable:{type:Boolean,default:!1},isShowMenu:{type:Boolean,default:!1},isShowFilter:{type:Boolean,default:!1},uid:{type:String,default:""}},n=t;a.default=n},80608:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.DashboardBuildIn=void 0,t(20148),t(37209),t(2968),t(50754);var e=n(t(69815)),i=t(70748),u=(0,i.defineAsyncComponent)(function(){return t.e(7068).then(t.bind(t,57068))}),h={[e.default.type]:u};a.DashboardBuildIn=h},92312:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=n(t(63638)),i=n(t(35788));function u(l,D){var f=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);D&&(s=s.filter(function(y){return Object.getOwnPropertyDescriptor(l,y).enumerable})),f.push.apply(f,s)}return f}function h(l){for(var D=1;D<arguments.length;D++){var f=arguments[D]!=null?arguments[D]:{};D%2?u(Object(f),!0).forEach(function(s){(0,e.default)(l,s,f[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(f)):u(Object(f)).forEach(function(s){Object.defineProperty(l,s,Object.getOwnPropertyDescriptor(f,s))})}return l}var C=h(h({},i.default),{},{panel:{type:Object}});a.default=C},37962:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432),e=n.BaseDataSource;a.default=e},59460:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(31529)),u=n(t(37962)),h=t(12692),C=(0,e.defineAsyncComponent)(function(){return t.e(1191).then(t.bind(t,11191))}),l=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(4171),t.e(8052)]).then(t.bind(t,7586))}),D={ConfigPanel:C,QueryPanel:l,DataSource:u.default,DataSourceConfig:h.BkBaseDataSourceConfig,QueryConfig:h.QueryMysqlSimpleClass,meta:i.default};a.default=D},68225:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432);class e extends n.BaseDataSource{}a.default=e},39365:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(68225)),u=n(t(37566)),h=(0,e.defineAsyncComponent)(function(){return t.e(2083).then(t.bind(t,32083))}),C=(0,e.defineAsyncComponent)(function(){return t.e(4672).then(t.bind(t,64672))}),l={ConfigPanel:h,QueryPanel:C,DataSource:i.default,meta:u.default};a.default=l},34006:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432);class e extends n.BaseDataSource{}a.default=e},98594:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(34006)),u=n(t(858)),h=(0,e.defineAsyncComponent)(function(){return t.e(4055).then(t.bind(t,54055))}),C=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(4171),t.e(9194)]).then(t.bind(t,99870))}),l={ConfigPanel:h,QueryPanel:C,DataSource:i.default,meta:u.default};a.default=l},60289:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.DataSourceImgBuildIn=a.DataSourceBuildIn=void 0;var e=n(t(87966)),i=n(t(83363)),u=n(t(41452)),h=n(t(35013)),C=n(t(69266)),l=n(t(14029)),D=n(t(31529)),f=n(t(19677)),s=n(t(59460)),y=n(t(34344)),T=n(t(57189)),g=n(t(21747)),d=n(t(858)),v=n(t(39691)),p=n(t(98594)),b=n(t(99741)),O=n(t(38468)),P=n(t(82813)),m=n(t(49214)),r=n(t(30821)),c=n(t(76261)),S=n(t(37566)),M=n(t(47507)),j=n(t(39365)),R={[e.default.type]:u.default,[d.default.type]:p.default,[h.default.type]:l.default,[D.default.type]:s.default,[b.default.type]:P.default,[m.default.type]:c.default,[S.default.type]:j.default,[y.default.type]:g.default};a.DataSourceBuildIn=R;var L={[e.default.id]:i.default,[d.default.id]:v.default,[h.default.id]:C.default,[D.default.id]:f.default,[b.default.id]:O.default,[m.default.id]:r.default,[S.default.id]:M.default,[y.default.id]:T.default};a.DataSourceImgBuildIn=L},4721:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432);class e extends n.BaseDataSource{}a.default=e},76261:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(4721)),u=n(t(49214)),h=(0,e.defineAsyncComponent)(function(){return t.e(7734).then(t.bind(t,97734))}),C=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(4171),t.e(6045)]).then(t.bind(t,11817))}),l={ConfigPanel:h,QueryPanel:C,DataSource:i.default,meta:u.default};a.default=l},73005:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432),e=n.BaseDataSource;a.default=e},21747:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(34344)),u=n(t(73005)),h=t(12692),C=(0,e.defineAsyncComponent)(function(){return t.e(4956).then(t.bind(t,54956))}),l=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(4171),t.e(8052)]).then(t.bind(t,7586))}),D={ConfigPanel:C,QueryPanel:l,DataSource:u.default,DataSourceConfig:h.LessCodeDataSourceConfig,QueryConfig:h.QueryMysqlSimpleClass,meta:i.default};a.default=D},43761:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432),e=n.BaseDataSource;a.default=e},41452:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(87966)),u=n(t(43761)),h=t(12692),C=(0,e.defineAsyncComponent)(function(){return t.e(5706).then(t.bind(t,35706))}),l=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(4171),t.e(8052)]).then(t.bind(t,7586))}),D={ConfigPanel:C,QueryPanel:l,DataSource:u.default,DataSourceConfig:h.MySqlDataSourceConfigClass,QueryConfig:h.QueryMysqlSimpleClass,meta:i.default};a.default=D},62188:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432);class e extends n.BaseDataSource{}a.default=e},82813:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(62188)),u=n(t(99741)),h=(0,e.defineAsyncComponent)(function(){return t.e(1601).then(t.bind(t,41601))}),C=(0,e.defineAsyncComponent)(function(){return t.e(2757).then(t.bind(t,42757))}),l={ConfigPanel:h,QueryPanel:C,DataSource:i.default,meta:u.default};a.default=l},91673:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(78432);class e extends n.BaseDataSource{}a.default=e},14029:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(20148),t(37209),t(2968),t(50754);var e=t(70748),i=n(t(91673)),u=n(t(35013)),h=(0,e.defineAsyncComponent)(function(){return t.e(7977).then(t.bind(t,67977))}),C=(0,e.defineAsyncComponent)(function(){return Promise.all([t.e(4171),t.e(4032)]).then(t.bind(t,92141))}),l={ConfigPanel:h,QueryPanel:C,DataSource:i.default,meta:u.default};a.default=l},67553:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.ConfigPanel=void 0;var e=n(t(63638));class i{constructor(h){(0,e.default)(this,"config",void 0),(0,e.default)(this,"onConfigChange",void 0),this.config=h.config,this.onConfigChange=h.onConfigChange}}a.ConfigPanel=i},88065:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.BaseDataSource=void 0,t(37209),t(84873),t(6125);var e=n(t(65809)),i=n(t(63638)),u=t(92244);class h{constructor(l){(0,i.default)(this,"name",void 0),(0,i.default)(this,"id",void 0),(0,i.default)(this,"type",void 0),(0,i.default)(this,"configData",void 0),this.name=l.name,this.id=l.id,this.type=l.type,this.configData=l}query(l){var D=arguments;return(0,e.default)(regeneratorRuntime.mark(function f(){var s;return regeneratorRuntime.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return s=D.length>1&&D[1]!==void 0?D[1]:null,T.abrupt("return",(0,u.querySpecifiedData)(l,s));case 2:case"end":return T.stop()}},f)}))()}verifyQuery(l){var D=[];return l.forEach(function(f){var s=f.ref_id,y=f.table,T=f.query_text,g=f.targets,d=g===void 0?[]:g,v=f.raw_query,p=v===void 0?!1:v;if(d.length||D.push("\u6CA1\u6709\u914D\u7F6E\u6307\u6807"),p){T||D.unshift("query\u3010".concat(s,"\u3011\u6CA1\u6709\u914D\u7F6E SQL"));return}y||D.unshift("query\u3010".concat(s,"\u3011\u6CA1\u6709\u9009\u62E9\u8868"))}),D.length?D.length===1?D[0]:"".concat(D.join("\u3001 "),"\u3002"):""}}a.BaseDataSource=h},78432:function(o,a,t){"use strict";t(37209),t(84873),Object.defineProperty(a,"__esModule",{value:!0});var n=t(67553);Object.keys(n).forEach(function(u){u==="default"||u==="__esModule"||u in a&&a[u]===n[u]||Object.defineProperty(a,u,{enumerable:!0,get:function(){return n[u]}})});var e=t(88065);Object.keys(e).forEach(function(u){u==="default"||u==="__esModule"||u in a&&a[u]===e[u]||Object.defineProperty(a,u,{enumerable:!0,get:function(){return e[u]}})});var i=t(63644);Object.keys(i).forEach(function(u){u==="default"||u==="__esModule"||u in a&&a[u]===i[u]||Object.defineProperty(a,u,{enumerable:!0,get:function(){return i[u]}})})},70027:function(o,a,t){"use strict";t(37209),t(84873),Object.defineProperty(a,"__esModule",{value:!0});var n=t(45516);Object.keys(n).forEach(function(u){u==="default"||u==="__esModule"||u in a&&a[u]===n[u]||Object.defineProperty(a,u,{enumerable:!0,get:function(){return n[u]}})});var e=t(60289);Object.keys(e).forEach(function(u){u==="default"||u==="__esModule"||u in a&&a[u]===e[u]||Object.defineProperty(a,u,{enumerable:!0,get:function(){return e[u]}})});var i=t(80608);Object.keys(i).forEach(function(u){u==="default"||u==="__esModule"||u in a&&a[u]===i[u]||Object.defineProperty(a,u,{enumerable:!0,get:function(){return i[u]}})})},83867:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.PermissionModule=void 0,a.setApplyData=i,a.setShow=u;var n=t(70748),e=(0,n.reactive)({show:!1,applyData:null});a.PermissionModule=e;function i(h){e.applyData=h}function u(h){e.show=h}},81133:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.ChartSourceModule=void 0,a.setChartSource=C,a.setChartSourceList=l,a.setChartSourceListAsync=D,t(6125);var e=n(t(65809));t(20148),t(16165),t(37209),t(50754);var i=t(70748),u=t(93767),h=(0,i.reactive)({chartSourceMap:new Map,chartSourceList:[]});a.ChartSourceModule=h;function C(s){var y=s.key,T=s.module;h.chartSourceMap.set(y,T)}function l(s){h.chartSourceList=s}function D(s){return f.apply(this,arguments)}function f(){return f=(0,e.default)(regeneratorRuntime.mark(function s(y){var T;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,u.getChartTypes)(y);case 2:T=d.sent,l(T);case 4:case"end":return d.stop()}},s)})),f.apply(this,arguments)}window.ChartSourceModule=h},14902:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.DashBoardSourceModule=a.DashBoardSource=void 0,t(20148),t(16165),t(37209),t(50754);var e=n(t(63638));class i{constructor(){(0,e.default)(this,"dashBoardMap",new Map)}setDashBoardSource(C){var l=C.key,D=C.module;this.dashBoardMap.set(l,D)}}a.DashBoardSource=i;var u=new i;a.DashBoardSourceModule=u,window.DashBoardSourceModule=u},81200:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.countTabHeight=d,a.default=void 0,a.getNewPanel=v,a.sortGridPanels=g,t(36274),t(37209),t(84873),t(9100),t(35340),t(20148),t(50754),t(25528),t(17369),t(2968),t(19903),t(58146);var e=t(70748),i=t(12692),u=t(71633),h=t(95939),C=n(t(5271)),l=t(29113),D=t(13158),f=t(72798),s=t(27231),y=n(t(83300)),T=t(30327);function g(P){return P.sort(function(m,r){return m.gridPos.y-r.gridPos.y||m.gridPos.x-r.gridPos.x})}function d(P){var m=0;return P.forEach(function(r){var c=r.gridPos,S=c.y,M=c.h,j=S+M;j>m&&(m=j)}),m}function v(P,m,r){var c,S=0;if(r?.forEach(function(R){var L=R.gridPos,F=L.y,V=L.h,I=F+V;I>S&&(S=I)}),P==="chart"){if(r!=null&&r.some(function(R){return R.type==="add-panel"}))return(0,s.$Message)("\u5DF2\u7ECF\u65B0\u5EFA\u56FE\u8868\uFF0C\u8BF7\u7F16\u8F91","warning"),null;c=new i.PanelModel(m),c.gridPos.y=S}else{var M={w:h.GRID_COL_NUM,h:1,y:S,x:0,minW:h.GRID_COL_NUM},j=[];P==="tab"&&(M={w:h.GRID_COL_NUM,h:15,y:S,x:0,minW:h.GRID_COL_NUM},j=[(0,u.addTabPanel)()]),c=new i.PanelModel(Object.assign({},u.initPanel,{uid:m.uid||(0,C.default)(),canDrag:!1,canResize:!1,static:!0,collapsed:!1,type:P,title:"\u5206\u7EC4",panels:j,gridPos:M}))}return c}var p=y.default.CancelToken,b=(0,T.defineStore)({id:"Dashboard",state:function(){return{panelList:[],dashboard:new i.GridDashBoard(null),pendingDashboard:!1,loadingDashboard:!0,source:null}},actions:{setPanelList(P){this.panelList=P},sourceCancel(){this.source?(this.source.cancel(),this.pendingDashboard=!1,this.source=null):this.source=p.source()},setLoadingDashboard(P){this.loadingDashboard=P,this.pendingDashboard=P},setTheme(P){var m=this,r=P.uid,c=P.colors;this.dashboard.colors={uid:r,colors:c},h.COLOR_LIST.splice(0,h.COLOR_LIST.length,...c),this.loadingDashboard=!0,(0,e.nextTick)(function(){m.loadingDashboard=!1})},deletePanel(P){var m=this.panelList,r=m.findIndex(function(c){return c.uid===P.uid});r!==-1&&m.splice(r,1)},clear(){this.loadingDashboard=!0,this.panelList=[],this.dashboard=new i.GridDashBoard(null),this.source&&(this.source.cancel(),this.source=null)},addDashBoardFilter(P){this.dashboard.filters.push(...P)},updatePanel(P){var m=P.panel,r=P.uid,c=P.isResize,S=c===void 0?!1:c,M=P.diff,j=M===void 0?0:M,R=this.panelList.findIndex(function(Q){return Q.uid===r});if(R!==-1){var L=this.panelList[R],F=Object.assign(L,m);if(F.updateGridPos(L.gridPos),S)if(j!==0){for(var V=R+1;V<this.panelList.length;V++){var I=this.panelList[V];I.gridPos.y+=j}this.panelList=[...this.panelList]}else this.panelList.splice(R,1,F);else this.panelList.splice(R,1,F)}},setDashboardData(P){this.dashboard=P},addCharts(P){var m=this.panelList.slice();m.push(...P),this.panelList=g(m)},addChart(P){var m=P.type,r=m===void 0?"chart":m,c=P.panel,S=c===void 0?new i.PanelModel((0,l.deepClone)(u.initPanel)):c,M=g(this.panelList.slice()),j=v(r,S,M);return M.push(j),this.panelList=M,j},getDashboardData(P){var m=this,r=P.uid,c=P.version,S=P.space_uid;return new Promise(function(M,j){var R;m.pendingDashboard&&m.sourceCancel(),m.setLoadingDashboard(!0);var L={cancelToken:(R=m.source)===null||R===void 0?void 0:R.token,irrepealable:!0},F;c?F=(0,D.getVersionData)({target_uid:r,version:c,space_uid:S},L):F=(0,f.getDashboardInfo)(r,L),F.then(function(V){if(V.panels.length){var I=V.panels,Q=I.map(function($){return new i.PanelModel($)});m.setPanelList(g(Q))}delete V.panels;var Y=new i.GridDashBoard(V);m.setDashboardData(Y),M(!0)}).catch(function(V){typeof V?.hideNormalError=="function"&&V?.hideNormalError(),j(V)}).finally(function(){m.setLoadingDashboard(!1)})})}}}),O=b;a.default=O},36473:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.DataSourceModule=void 0,a.clearSourceState=C,a.setDataSource=l,a.setDatasourceList=f,a.setDatasourceListAsync=T,a.setDatasourceTypes=D,a.setDatasourceTypesAsync=s,t(6125);var e=n(t(65809));t(20148),t(16165),t(37209),t(50754),t(2968);var i=t(92244),u=t(70748),h=(0,u.reactive)({datasourceMap:new Map,datasourceTypes:[],datasourceList:[],space_uid:""});a.DataSourceModule=h;function C(){h.space_uid="",h.datasourceMap=new Map,h.datasourceTypes=[],h.datasourceList=[]}function l(d){var v=d.key,p=d.module;h.datasourceMap.set(v,p)}function D(d){h.datasourceTypes=d}function f(d){h.datasourceList=d}function s(d){return y.apply(this,arguments)}function y(){return y=(0,e.default)(regeneratorRuntime.mark(function d(v){var p;return regeneratorRuntime.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,i.getDataSourceTypes)(v);case 2:p=O.sent,D(p);case 4:case"end":return O.stop()}},d)})),y.apply(this,arguments)}function T(d){return g.apply(this,arguments)}function g(){return g=(0,e.default)(regeneratorRuntime.mark(function d(v){var p,b,O=arguments;return regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(p=O.length>1&&O[1]!==void 0?O[1]:!1,!(!p&&h.space_uid===v)){m.next=3;break}return m.abrupt("return",Promise.resolve(h.datasourceList));case 3:return f([]),m.next=6,(0,i.getDataSourceList)({space_uid:v});case 6:b=m.sent,h.space_uid=v,f(b);case 9:case"end":return m.stop()}},d)})),g.apply(this,arguments)}window.DataSourceModule=h},39456:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.QueryContextModule=void 0,a.clearQueryContextModule=g,a.setShareUid=s,a.setTimeRange=D,a.setTimezone=f,a.setVariation=y,a.setVariations=T;var e=n(t(63638)),i=t(70748),u=t(11016);function h(d,v){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(d);v&&(b=b.filter(function(O){return Object.getOwnPropertyDescriptor(d,O).enumerable})),p.push.apply(p,b)}return p}function C(d){for(var v=1;v<arguments.length;v++){var p=arguments[v]!=null?arguments[v]:{};v%2?h(Object(p),!0).forEach(function(b){(0,e.default)(d,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):h(Object(p)).forEach(function(b){Object.defineProperty(d,b,Object.getOwnPropertyDescriptor(p,b))})}return d}var l=(0,i.reactive)({timeRange:u.DEFAULT_TIME_RANGE,timezone:"Asia/Shanghai",variables:{},share_uid:""});a.QueryContextModule=l;function D(d){l.timeRange=d}function f(d){l.timezone=d}function s(d){l.share_uid=d}function y(d){var v=d.name,p=d.value;l.variables=C(C({},l.variables),{},{[v]:p})}function T(d){l.variables=d}function g(){l.variables={},l.timeRange=u.DEFAULT_TIME_RANGE}},86:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.VisualConfig=a.Tooltip=a.StatisticsConfig=a.Legend=a.ColorConfig=a.ChartDataLabel=a.ChartConfigForm=a.AxisConfig=void 0;var e=n(t(63638));class i{constructor(){(0,e.default)(this,"color",[])}}a.ColorConfig=i;class u{constructor(){(0,e.default)(this,"visual",new h),(0,e.default)(this,"tooltip",new C),(0,e.default)(this,"label",new l),(0,e.default)(this,"legend",new D),(0,e.default)(this,"statistics",new f),(0,e.default)(this,"Axis",new s),(0,e.default)(this,"AxisSecond",new s),(0,e.default)(this,"colors",new i)}}a.ChartConfigForm=u;class h{constructor(){(0,e.default)(this,"ladder",!1),(0,e.default)(this,"stack",!1),(0,e.default)(this,"padding",!1),(0,e.default)(this,"lineWidth",2),(0,e.default)(this,"withoutKeyPoints",!1)}}a.VisualConfig=h;class C{constructor(){(0,e.default)(this,"order","asc"),(0,e.default)(this,"percentage",!1),(0,e.default)(this,"statistics_percent",!1)}}a.Tooltip=C;class l{constructor(){(0,e.default)(this,"show",!1),(0,e.default)(this,"position","top"),(0,e.default)(this,"rotate",0)}}a.ChartDataLabel=l;class D{constructor(){(0,e.default)(this,"hide",!1),(0,e.default)(this,"position","bottom")}}a.Legend=D;class f{constructor(){(0,e.default)(this,"max",!1),(0,e.default)(this,"min",!1),(0,e.default)(this,"avg",!1),(0,e.default)(this,"total",!1),(0,e.default)(this,"new",!1),(0,e.default)(this,"position",void 0)}}a.StatisticsConfig=f;class s{constructor(){(0,e.default)(this,"name",void 0),(0,e.default)(this,"xAxisMax",null),(0,e.default)(this,"xAxisMin",null),(0,e.default)(this,"yAxisMax",null),(0,e.default)(this,"yAxisMin",null),(0,e.default)(this,"xAxisTimeFormat",""),(0,e.default)(this,"yAxisUnit",""),(0,e.default)(this,"threshold",[]),(0,e.default)(this,"inverted",!1),(0,e.default)(this,"yAxisValueType","bar"),(0,e.default)(this,"yAxisValuePosition",0),(0,e.default)(this,"rotate",0)}}a.AxisConfig=s},6462:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.ShareFormData=a.MultiShareFormData=a.MultiReportForm=a.GridDashBoardTree=a.GridDashBoard=a.ChartInset=void 0,t(9100),t(35340),t(20148),t(50754),t(17369);var e=n(t(63638)),i=t(95939);class u{constructor(){(0,e.default)(this,"uid",void 0),(0,e.default)(this,"title",void 0),(0,e.default)(this,"space_uid",void 0),(0,e.default)(this,"folder_uid",void 0),(0,e.default)(this,"is_folder",!1),(0,e.default)(this,"is_default",!1),(0,e.default)(this,"collected",!1),(0,e.default)(this,"created_by",void 0),(0,e.default)(this,"updated_by",void 0),(0,e.default)(this,"created_time",void 0),(0,e.default)(this,"updated_time",void 0),(0,e.default)(this,"children",void 0),(0,e.default)(this,"is_edit",!1),(0,e.default)(this,"permissions",void 0)}}a.GridDashBoardTree=u;class h{constructor(y){var T;if((0,e.default)(this,"id",void 0),(0,e.default)(this,"uid",void 0),(0,e.default)(this,"space_uid",""),(0,e.default)(this,"folder_uid",""),(0,e.default)(this,"is_folder",!1),(0,e.default)(this,"is_default",!1),(0,e.default)(this,"collected",!1),(0,e.default)(this,"type","grid-panel"),(0,e.default)(this,"title",""),(0,e.default)(this,"description",""),(0,e.default)(this,"version",""),(0,e.default)(this,"build_in",!0),(0,e.default)(this,"permissions",{}),(0,e.default)(this,"data",void 0),(0,e.default)(this,"colors",void 0),(0,e.default)(this,"meta",void 0),(0,e.default)(this,"panels",[]),(0,e.default)(this,"filters",[]),!!y)if(Object.assign(this,y),y!=null&&(T=y.colors)!==null&&T!==void 0&&T.uid){var g;i.COLOR_LIST.splice(0,i.COLOR_LIST.length,...y==null||(g=y.colors)===null||g===void 0?void 0:g.colors)}else{var d=i.colorList.default,v=d.colors,p=d.uid;y.colors={colors:v.slice(),uid:p}}}}a.GridDashBoard=h;class C{constructor(){(0,e.default)(this,"uid",void 0),(0,e.default)(this,"share_mode","iframe"),(0,e.default)(this,"target_uid",""),(0,e.default)(this,"bk_app_id",""),(0,e.default)(this,"name",""),(0,e.default)(this,"version","latest"),(0,e.default)(this,"show_copyright",!0),(0,e.default)(this,"watermark",!0),(0,e.default)(this,"filters",void 0),(0,e.default)(this,"lock_time",!1),(0,e.default)(this,"time_readonly",!1),(0,e.default)(this,"show_time",!0),(0,e.default)(this,"show_refresh",!0),(0,e.default)(this,"start_time","now/d"),(0,e.default)(this,"end_time","now/d"),(0,e.default)(this,"preview",!1),(0,e.default)(this,"hide_toolbox",!1),(0,e.default)(this,"hide_filter",!1),(0,e.default)(this,"panels",""),(0,e.default)(this,"refresh",!1),(0,e.default)(this,"sticky_top",!1),(0,e.default)(this,"hidden_title",!1)}}a.ShareFormData=C;class l{constructor(y){(0,e.default)(this,"uid",""),(0,e.default)(this,"type","dashboard"),(0,e.default)(this,"space_uid",""),(0,e.default)(this,"share_url",void 0),(0,e.default)(this,"data",new C),y&&Object.assign(this,y)}}a.MultiShareFormData=l;class D extends l{constructor(){super(...arguments),(0,e.default)(this,"uid",""),(0,e.default)(this,"type","dashboard"),(0,e.default)(this,"space_uid",""),(0,e.default)(this,"data",new C),(0,e.default)(this,"description",void 0),(0,e.default)(this,"created_time",void 0),(0,e.default)(this,"updated_time",void 0),(0,e.default)(this,"created_by",void 0),(0,e.default)(this,"updated_by",void 0),(0,e.default)(this,"name",void 0),(0,e.default)(this,"status",void 0)}}a.ChartInset=D;class f{constructor(){(0,e.default)(this,"title",""),(0,e.default)(this,"status","push"),(0,e.default)(this,"recipient",[]),(0,e.default)(this,"ccRecipient",[]),(0,e.default)(this,"cycleType","single"),(0,e.default)(this,"onceTimeRange",""),(0,e.default)(this,"crontab",""),(0,e.default)(this,"policy","day"),(0,e.default)(this,"week",1),(0,e.default)(this,"day",""),(0,e.default)(this,"hour",""),(0,e.default)(this,"minute",""),(0,e.default)(this,"timePolicy","Today"),(0,e.default)(this,"timeRange",["",""]),(0,e.default)(this,"filters",{}),(0,e.default)(this,"space_uid",""),(0,e.default)(this,"uid",""),(0,e.default)(this,"dashboard_uid",""),(0,e.default)(this,"version",""),(0,e.default)(this,"dashboard_title",""),(0,e.default)(this,"dashboard_width",1366),(0,e.default)(this,"advancedSetting",{hide_filter:!1,creator_send:!1,bcc:!1,approve:!1,pdf:!1,dashboard_width:1366})}}a.MultiReportForm=f},52751:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.Where=a.QueryVariation=a.QueryMysqlSimpleClass=a.QueryColumn=a.QueryBkBaseSimpleClass=a.PrometheusQueryConfig=a.Order=a.MySqlDataSourceConfigClass=a.Limit=a.LessCodeDataSourceConfig=a.JsonApiQueryConfig=a.JsonApiDataSourceConfig=a.Indicator=a.BkMonitorQueryConfig=a.BkMonitorDataSourceConfig=a.BkBaseDataSourceConfig=void 0,t(9100),t(20148),t(50754);var e=n(t(63638)),i=n(t(5271));class u{constructor(){(0,e.default)(this,"offset",0),(0,e.default)(this,"size",100)}}a.Limit=u;class h{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(0,e.default)(this,"name",""),(0,e.default)(this,"order","ASC"),this.name=r,this.order=c}}a.Order=h;class C{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"type",""),(0,e.default)(this,"params",["","=",""]),(0,e.default)(this,"is_sql",!1),(0,e.default)(this,"sql",""),(0,e.default)(this,"filter_type","WHERE"),(0,e.default)(this,"kind","expression")}}a.Where=C;class l{constructor(r){(0,e.default)(this,"type",""),(0,e.default)(this,"name",""),(0,e.default)(this,"aggregate",""),(0,e.default)(this,"alias",""),(0,e.default)(this,"sql",""),(0,e.default)(this,"is_sql",!1),(0,e.default)(this,"option",{display_name:"",map:""}),(0,e.default)(this,"uid",void 0),r&&Object.assign(this,r),this.uid=(0,i.default)()}}a.QueryColumn=l;class D{constructor(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"=";(0,e.default)(this,"name",void 0),(0,e.default)(this,"type",void 0),(0,e.default)(this,"operator",void 0),(0,e.default)(this,"variation",void 0),this.name=r,this.type=c,this.operator=S}}a.QueryVariation=D;class f{constructor(r){(0,e.default)(this,"ref_id",""),(0,e.default)(this,"format","row"),(0,e.default)(this,"table",""),(0,e.default)(this,"query_text",""),(0,e.default)(this,"raw_query",!1),(0,e.default)(this,"where",[]),(0,e.default)(this,"targets",[]),(0,e.default)(this,"dimensions",[]),(0,e.default)(this,"order",[]),(0,e.default)(this,"limit",{size:100,offset:null}),(0,e.default)(this,"variation",[]),(0,e.default)(this,"time_filter",{field:"",type:"",aggregate:"original value",category:"dynamic",range:{from:null,to:null}}),(0,e.default)(this,"storage","tspider"),(0,e.default)(this,"env","preview"),this.ref_id=r}}a.QueryMysqlSimpleClass=f;class s extends f{constructor(){super(...arguments),(0,e.default)(this,"storage","tspider"),(0,e.default)(this,"time_filter",{field:"dtEventTime",type:"datetime",aggregate:"original value",category:"dynamic",range:{from:null,to:null}})}}a.QueryBkBaseSimpleClass=s;class y{constructor(){(0,e.default)(this,"data_source_label",""),(0,e.default)(this,"data_type_label",""),(0,e.default)(this,"metrics",[{field:"",method:"",alias:""}]),(0,e.default)(this,"table",""),(0,e.default)(this,"result_table_label",""),(0,e.default)(this,"related_id",""),(0,e.default)(this,"group_by",[]),(0,e.default)(this,"display",!0),(0,e.default)(this,"interval","auto"),(0,e.default)(this,"interval_unit",void 0),(0,e.default)(this,"time_filed","time"),(0,e.default)(this,"filter_dict",{}),(0,e.default)(this,"functions",[]),(0,e.default)(this,"where",[])}}a.Indicator=y;class T{constructor(r){(0,e.default)(this,"format","point"),(0,e.default)(this,"ref_id",""),(0,e.default)(this,"time_filter",{field:"time",type:"timestamp",aggregate:"original value",category:"dynamic",range:{from:null,to:null}}),(0,e.default)(this,"query_configs",[]),(0,e.default)(this,"dimensions",[{name:"_unique_metric_",type:"string"}]),(0,e.default)(this,"targets",[{name:"value",type:"float"}]),(0,e.default)(this,"target",[]),(0,e.default)(this,"expression",""),this.ref_id=r}}a.BkMonitorQueryConfig=T;class g{constructor(r){(0,e.default)(this,"ref_id",""),(0,e.default)(this,"metrics",""),(0,e.default)(this,"format","point"),(0,e.default)(this,"dimensions",[]),(0,e.default)(this,"targets",[{name:"value",type:"float",alias:"value"}]),(0,e.default)(this,"interval",void 0),(0,e.default)(this,"interval_unit",void 0),(0,e.default)(this,"time_filter",{field:"time",type:"timestamp",aggregate:"original value",category:"dynamic",range:{from:null,to:null}}),this.ref_id=r}}a.PrometheusQueryConfig=g;class d{constructor(r){(0,e.default)(this,"ref_id",""),(0,e.default)(this,"format","row"),(0,e.default)(this,"path",""),(0,e.default)(this,"jsonpath",""),(0,e.default)(this,"table",""),(0,e.default)(this,"targets",[]),(0,e.default)(this,"dimensions",[]),(0,e.default)(this,"method","GET"),(0,e.default)(this,"order",[]),(0,e.default)(this,"time_filter",{field:"",type:"",aggregate:"original value",category:"dynamic",range:{from:null,to:null}}),(0,e.default)(this,"params",[]),(0,e.default)(this,"headers",[]),(0,e.default)(this,"body",{format:"text",content:""}),this.ref_id=r}}a.JsonApiQueryConfig=d;class v{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"build_in",!0),(0,e.default)(this,"database",""),(0,e.default)(this,"password",""),(0,e.default)(this,"user",""),(0,e.default)(this,"url",""),(0,e.default)(this,"json_data",{timeout:60,verify:!0,with_credentials:!0,headers:[],basic_auth:!1,$secure:{username:"",password:""}})}}a.JsonApiDataSourceConfig=v;class p{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"build_in",!0),(0,e.default)(this,"database",""),(0,e.default)(this,"password",""),(0,e.default)(this,"user",""),(0,e.default)(this,"url",""),(0,e.default)(this,"json_data",{timeout:60,verify:!1,bk_biz_id:"",bk_project_id:"",model_type:"project"})}}a.BkBaseDataSourceConfig=p;class b{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"build_in",!0),(0,e.default)(this,"database",""),(0,e.default)(this,"password",""),(0,e.default)(this,"user",""),(0,e.default)(this,"url",""),(0,e.default)(this,"json_data",{timeout:600,verify:!1,project_id:0,project_name:"",api_name:""})}}a.LessCodeDataSourceConfig=b;class O{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"build_in",!0),(0,e.default)(this,"database",""),(0,e.default)(this,"password",""),(0,e.default)(this,"user",""),(0,e.default)(this,"url",""),(0,e.default)(this,"json_data",{bk_biz_id:""})}}a.BkMonitorDataSourceConfig=O;class P{constructor(){(0,e.default)(this,"name",""),(0,e.default)(this,"build_in",!0),(0,e.default)(this,"database",""),(0,e.default)(this,"password",""),(0,e.default)(this,"url",""),(0,e.default)(this,"user",""),(0,e.default)(this,"port",void 0),(0,e.default)(this,"json_data",{charset:"utf8"})}}a.MySqlDataSourceConfigClass=P},12692:function(o,a,t){"use strict";t(37209),t(84873),Object.defineProperty(a,"__esModule",{value:!0});var n=t(16431);Object.keys(n).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===n[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return n[f]}})});var e=t(20057);Object.keys(e).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===e[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return e[f]}})});var i=t(42025);Object.keys(i).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===i[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return i[f]}})});var u=t(6462);Object.keys(u).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===u[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return u[f]}})});var h=t(86);Object.keys(h).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===h[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return h[f]}})});var C=t(11607);Object.keys(C).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===C[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return C[f]}})});var l=t(52751);Object.keys(l).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===l[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return l[f]}})});var D=t(80907);Object.keys(D).forEach(function(f){f==="default"||f==="__esModule"||f in a&&a[f]===D[f]||Object.defineProperty(a,f,{enumerable:!0,get:function(){return D[f]}})})},80907:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0})},11607:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.PanelModel=a.IGridPos=a.ChartStyle=void 0,t(9100);var e=n(t(63638)),i=t(95939);function u(f,s){var y=Object.keys(f);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(f);s&&(T=T.filter(function(g){return Object.getOwnPropertyDescriptor(f,g).enumerable})),y.push.apply(y,T)}return y}function h(f){for(var s=1;s<arguments.length;s++){var y=arguments[s]!=null?arguments[s]:{};s%2?u(Object(y),!0).forEach(function(T){(0,e.default)(f,T,y[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(y)):u(Object(y)).forEach(function(T){Object.defineProperty(f,T,Object.getOwnPropertyDescriptor(y,T))})}return f}class C{constructor(){(0,e.default)(this,"i","0"),(0,e.default)(this,"x",0),(0,e.default)(this,"y",0),(0,e.default)(this,"w",12),(0,e.default)(this,"h",16),(0,e.default)(this,"maxW",i.GRID_COL_NUM),(0,e.default)(this,"maxH",i.GRID_CELL_MAX_HEIGHT),(0,e.default)(this,"minW",i.GRID_CELL_MIN_WIDTH),(0,e.default)(this,"minH",i.GRID_CELL_MIN_HEIGHT),(0,e.default)(this,"static",void 0),(0,e.default)(this,"moved",void 0),(0,e.default)(this,"isDraggable",void 0),(0,e.default)(this,"isResizable",void 0)}}a.IGridPos=C;class l{constructor(){(0,e.default)(this,"border",{color:"#ffffff",width:0,style:"solid",shadow:"0 2px 4px 0 rgb(25 25 41 / 5%)"}),(0,e.default)(this,"flex",1),(0,e.default)(this,"title",{hidden:!1}),(0,e.default)(this,"description",{show:!1}),(0,e.default)(this,"background",{color:"#ffffff"})}}a.ChartStyle=l;class D{constructor(s){(0,e.default)(this,"uid",void 0),(0,e.default)(this,"space_uid",void 0),(0,e.default)(this,"type",void 0),(0,e.default)(this,"active",void 0),(0,e.default)(this,"permissions",void 0),(0,e.default)(this,"title",void 0),(0,e.default)(this,"description",void 0),(0,e.default)(this,"data_type",void 0),(0,e.default)(this,"build_in",void 0),(0,e.default)(this,"meta",void 0),(0,e.default)(this,"gridPos",new C),(0,e.default)(this,"filters",[]),(0,e.default)(this,"options",void 0),(0,e.default)(this,"datasource",void 0),(0,e.default)(this,"query",void 0),(0,e.default)(this,"panels",void 0),(0,e.default)(this,"chartStyle",new l),(0,e.default)(this,"chartConfig",void 0),(0,e.default)(this,"dragging",!1),(0,e.default)(this,"collapsed",!1),s&&(Object.assign(this,s),(!this.chartStyle||JSON.stringify(this.chartStyle)==="{}")&&(this.chartStyle=new l),this.updateGridPos(s.gridPos))}updateGridPos(s){if(this.type==="row"){this.gridPos=h(h({},s),{},{w:i.GRID_COL_NUM,h:1,minH:1,minW:i.GRID_COL_NUM,maxH:1,maxW:i.GRID_COL_NUM,i:this.uid});return}if(this.type==="tab"){this.gridPos=h(h({},s),{},{w:i.GRID_COL_NUM,minH:i.GRID_CELL_MIN_HEIGHT,minW:i.GRID_COL_NUM,maxH:100,maxW:i.GRID_COL_NUM,i:this.uid});return}this.gridPos=h(h({},s),{},{minH:i.GRID_CELL_MIN_HEIGHT,minW:i.GRID_CELL_MIN_WIDTH,maxH:i.GRID_CELL_MAX_HEIGHT,maxW:i.GRID_COL_NUM,i:this.uid})}}a.PanelModel=D},42025:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.SpaceForm=void 0;var e=n(t(63638));class i{constructor(){(0,e.default)(this,"uid",""),(0,e.default)(this,"logo",""),(0,e.default)(this,"name",""),(0,e.default)(this,"code",""),(0,e.default)(this,"is_private",!1),(0,e.default)(this,"is_top",!1),(0,e.default)(this,"admins",[]),(0,e.default)(this,"visitors",[])}}a.SpaceForm=i},20057:function(o,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0})},16431:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.VariableRelationType=a.VariableForm=a.DictOptionType=void 0;var e=n(t(63638)),i=n(t(5271));class u{constructor(D,f){(0,e.default)(this,"label",""),(0,e.default)(this,"value",""),(0,e.default)(this,"uuid",""),D&&(this.value=D),f&&(this.label=f),this.uuid=(0,i.default)()}}a.DictOptionType=u;class h{constructor(){(0,e.default)(this,"datasource_uid",""),(0,e.default)(this,"default",""),(0,e.default)(this,"description",""),(0,e.default)(this,"multiple",!1),(0,e.default)(this,"name",""),(0,e.default)(this,"is_map",!1),(0,e.default)(this,"usage","filter"),(0,e.default)(this,"select_all",!1),(0,e.default)(this,"text",""),(0,e.default)(this,"type","text"),(0,e.default)(this,"value_type","string"),(0,e.default)(this,"datasource_table",""),(0,e.default)(this,"label",""),(0,e.default)(this,"value",""),(0,e.default)(this,"limit",100)}}a.VariableForm=h;class C{constructor(){(0,e.default)(this,"datasource_table",void 0),(0,e.default)(this,"datasource_uid",void 0),(0,e.default)(this,"datasource_name",void 0),(0,e.default)(this,"field",void 0),(0,e.default)(this,"space_uid",void 0)}}a.VariableRelationType=C},27231:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.$Message=void 0;var n=t(22247),e=function(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"error";return(0,n.Message)({message:u,theme:h,ellipsisLine:0})};a.$Message=e},5271:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=n,t(4064),t(37209),t(25181);function n(){return"".concat(Math.random().toString(16).substr(4,8),"-").concat(Math.random().toString(16).substr(4,8),"-").concat(Math.random().toString(16).substr(4,8))}},30345:function(o,a,t){"use strict";t(81821),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.getDataSourceByType=a.getDashBoardSourceByType=a.getChartSourceByType=void 0,a.getPanelsPluginsModules=d,a.handleInitDataSource=a.handleInitChartPlugin=a.getPluginTypes=void 0,t(6125),t(14775),t(37209),t(2968),t(19903),t(20148),t(50754),t(84873),t(34),t(99057);var e=n(t(63638)),i=n(t(65809)),u=t(86218),h=t(81133),C=t(36473),l=t(14902);function D(O,P){var m=Object.keys(O);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(O);P&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(O,c).enumerable})),m.push.apply(m,r)}return m}function f(O){for(var P=1;P<arguments.length;P++){var m=arguments[P]!=null?arguments[P]:{};P%2?D(Object(m),!0).forEach(function(r){(0,e.default)(O,r,m[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(m)):D(Object(m)).forEach(function(r){Object.defineProperty(O,r,Object.getOwnPropertyDescriptor(m,r))})}return O}var s=function(){var O=(0,i.default)(regeneratorRuntime.mark(function P(m,r){var c,S,M,j;return regeneratorRuntime.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(!C.DataSourceModule.datasourceMap.has(m)){L.next=2;break}return L.abrupt("return",C.DataSourceModule.datasourceMap.get(m));case 2:if((c=C.DataSourceModule.datasourceTypes)!==null&&c!==void 0&&c.length){L.next=5;break}return L.next=5,(0,C.setDatasourceTypesAsync)(r);case 5:if(S=C.DataSourceModule.datasourceTypes.find(function(F){return F.type===m}),S){L.next=8;break}return L.abrupt("return",null);case 8:return L.next=10,(0,u.dataSourcePluginLoad)(S.type,S.build_in);case 10:return M=L.sent,j=new M.DataSource(f({},S)),(0,C.setDataSource)({key:m,module:f(f({},M),{},{dataSourceInstance:j})}),L.abrupt("return",M);case 14:case"end":return L.stop()}},P)}));return function(m,r){return O.apply(this,arguments)}}();a.getDataSourceByType=s;var y=function(){var O=(0,i.default)(regeneratorRuntime.mark(function P(m,r){var c,S,M;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(m!=="add-panel"){R.next=2;break}return R.abrupt("return");case 2:if(!h.ChartSourceModule.chartSourceMap.has(m)){R.next=4;break}return R.abrupt("return",h.ChartSourceModule.chartSourceMap.get(m));case 4:if((c=h.ChartSourceModule.chartSourceList)!==null&&c!==void 0&&c.length){R.next=7;break}return R.next=7,(0,h.setChartSourceListAsync)(r);case 7:if(S=h.ChartSourceModule.chartSourceList.find(function(L){return L.type===m}),S){R.next=10;break}return R.abrupt("return","\u4E0D\u5B58\u5728\u6B64\u56FE\u8868\u7C7B\u578B");case 10:return R.next=12,(0,u.chartSourcePluginLoad)(S.type,S.build_in);case 12:return M=R.sent,(0,h.setChartSource)({key:m,module:f({},M)}),R.abrupt("return",M);case 15:case"end":return R.stop()}},P)}));return function(m,r){return O.apply(this,arguments)}}();a.getChartSourceByType=y;var T=function(){var O=(0,i.default)(regeneratorRuntime.mark(function P(m,r){var c;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(!l.DashBoardSourceModule.dashBoardMap.has(m)){M.next=2;break}return M.abrupt("return",l.DashBoardSourceModule.dashBoardMap.get(m));case 2:return M.next=4,(0,u.dashBoardSourcePluginLoad)(m,r);case 4:return c=M.sent,l.DashBoardSourceModule.setDashBoardSource({key:m,module:f({},c)}),M.abrupt("return",c);case 7:case"end":return M.stop()}},P)}));return function(m,r){return O.apply(this,arguments)}}();a.getDashBoardSourceByType=T;var g=function(){var O=(0,i.default)(regeneratorRuntime.mark(function P(m){var r,c,S;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return S=[],(r=C.DataSourceModule.datasourceTypes)!==null&&r!==void 0&&r.length||S.push(new Promise(function(R){(0,C.setDatasourceTypesAsync)(m).finally(function(){return R(null)})})),(c=h.ChartSourceModule.chartSourceList)!==null&&c!==void 0&&c.length||S.push(new Promise(function(R){(0,h.setChartSourceListAsync)(m).finally(function(){return R(null)})})),j.next=5,Promise.all(S);case 5:case"end":return j.stop()}},P)}));return function(m){return O.apply(this,arguments)}}();a.getPluginTypes=g;function d(O){return v.apply(this,arguments)}function v(){return v=(0,i.default)(regeneratorRuntime.mark(function O(P){var m,r,c;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return m=P.filter(function(j){return!["add-panel","row"].includes(j.type)}),r=[],c=[],m.forEach(function(j){var R=j.type,L=j.datasource;c.push(R),r.push(L.type)}),M.next=6,p(r);case 6:return M.next=8,b(c);case 8:case"end":return M.stop()}},O)})),v.apply(this,arguments)}var p=function(){var O=(0,i.default)(regeneratorRuntime.mark(function P(m){var r;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return r=[],m.forEach(function(M){r.push(new Promise(function(j){s(M).finally(function(){return j(void 0)})}))}),S.next=4,Promise.all(r);case 4:case"end":return S.stop()}},P)}));return function(m){return O.apply(this,arguments)}}();a.handleInitDataSource=p;var b=function(){var O=(0,i.default)(regeneratorRuntime.mark(function P(m){var r;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return r=[],m.forEach(function(M){r.push(new Promise(function(j){y(M).finally(function(){return j(void 0)})}))}),S.next=4,Promise.all(r);case 4:case"end":return S.stop()}},P)}));return function(m){return O.apply(this,arguments)}}();a.handleInitChartPlugin=b},22565:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=n,t(37209),t(84873);function n(e,i){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"id",h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"children",C=[],l=!0;function D(f,s,y,T){f.forEach(function(g){!l||(C.push(g[y]),g[y]===s?l=!1:g[T]?D(g[T],s,y,T):C.pop())}),l&&C.pop()}return D(e,i,u,h),C}},29113:function(o,a,t){"use strict";t(37209),t(84873),Object.defineProperty(a,"__esModule",{value:!0});var n=t(80583);Object.keys(n).forEach(function(i){i==="default"||i==="__esModule"||i in a&&a[i]===n[i]||Object.defineProperty(a,i,{enumerable:!0,get:function(){return n[i]}})});var e=t(22565);Object.keys(e).forEach(function(i){i==="default"||i==="__esModule"||i in a&&a[i]===e[i]||Object.defineProperty(a,i,{enumerable:!0,get:function(){return e[i]}})})},86218:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.dataSourcePluginLoad=a.dataSourcePluginImgLoad=a.dashBoardSourcePluginLoad=a.chartSourcePluginLoad=a.chartSourcePluginImgLoad=void 0,t(6125),t(37209),t(2968),t(20148),t(50754);var e=n(t(65809)),i=t(70027),u=function(){var f=(0,e.default)(regeneratorRuntime.mark(function s(y,T){var g;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(console.log("dataSourcePluginLoad:",y,T),y){v.next=3;break}return v.abrupt("return",Promise.reject("\u6570\u636E\u6E90\u63D2\u4EF6\u52A0\u8F7D\u8DEF\u5F84\u4E0D\u5B58\u5728"));case 3:if(!T){v.next=12;break}if(g=i.DataSourceBuildIn[y],g){v.next=7;break}return v.abrupt("return",Promise.reject("\u4E0D\u5B58\u5728\u8BE5\u6570\u636E\u6E90\u63D2\u4EF6"));case 7:if(typeof g!="function"){v.next=11;break}return v.next=10,g();case 10:return v.abrupt("return",v.sent);case 11:return v.abrupt("return",Promise.resolve(g));case 12:return v.next=14,t(30161)("".concat(y));case 14:return v.abrupt("return",v.sent);case 15:case"end":return v.stop()}},s)}));return function(y,T){return f.apply(this,arguments)}}();a.dataSourcePluginLoad=u;var h=function(s,y){var T=i.DataSourceImgBuildIn[s];return T||y};a.dataSourcePluginImgLoad=h;var C=function(){var f=(0,e.default)(regeneratorRuntime.mark(function s(y,T){var g;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(y){v.next=2;break}return v.abrupt("return",Promise.reject("\u4E0D\u5B58\u56FE\u8868\u63D2\u4EF6\u8DEF\u5F84"));case 2:if(!T){v.next=11;break}if(g=i.ChartSourceBuildIn[y],g){v.next=6;break}return v.abrupt("return",Promise.reject("\u7CFB\u7EDF\u672A\u627E\u5230\u6B64\u56FE\u8868\u63D2\u4EF6"));case 6:if(typeof g!="function"){v.next=10;break}return v.next=9,g();case 9:return v.abrupt("return",v.sent);case 10:return v.abrupt("return",Promise.resolve(g));case 11:return v.next=13,t(30161)("".concat(y));case 13:return v.abrupt("return",v.sent);case 14:case"end":return v.stop()}},s)}));return function(y,T){return f.apply(this,arguments)}}();a.chartSourcePluginLoad=C;var l=function(s,y){var T=i.ChartSourceImgBuildIn[s];return T||y};a.chartSourcePluginImgLoad=l;var D=function(){var f=(0,e.default)(regeneratorRuntime.mark(function s(y,T){var g;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(y){v.next=2;break}return v.abrupt("return",Promise.reject("\u4E0D\u5B58\u5728\u9762\u677F\u63D2\u4EF6\u8DEF\u5F84"));case 2:if(!T){v.next=11;break}if(g=i.DashboardBuildIn[y],g){v.next=6;break}return v.abrupt("return",Promise.reject("\u4E0D\u5B58\u5728\u8BE5\u9762\u677F\u63D2\u4EF6"));case 6:if(typeof g!="function"){v.next=10;break}return v.next=9,g();case 9:return v.abrupt("return",v.sent);case 10:return v.abrupt("return",Promise.resolve(g));case 11:return v.next=13,t(30161)("".concat(y));case 13:return v.abrupt("return",v.sent);case 14:case"end":return v.stop()}},s)}));return function(y,T){return f.apply(this,arguments)}}();a.dashBoardSourcePluginLoad=D},80583:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.sort=a.isObject=a.importFile=a.getCookie=a.downJsonFile=a.downFile=a.deepClone=void 0,t(33071),t(3105),t(25181),t(71342),t(36274),t(37209),t(20148),t(50754),t(8051),t(67759);var n=t(2769),e=function(s,y){return y?(0,n.merge)(s,y||{}):(0,n.cloneDeep)(s)};a.deepClone=e;var i=function(s){var y=new RegExp("(^|)".concat(s,"=([^;]*)(;|$)")),T=document.cookie.match(y);return T?unescape(T[2]):null};a.getCookie=i;var u=function(s){return s!==null&&typeof s=="object"};a.isObject=u;var h=function(s,y){if(!!Array.isArray(s)){var T=/^[0-9a-zA-Z]/;return s.sort(function(g,d){return u(g)&&u(d)&&y?T.test(g[y])&&!T.test(d[y])?-1:!T.test(g[y])&&T.test(d[y])?1:g[y].localeCompare(d[y]):"".concat(g).toString().localeCompare("".concat(g))})}};a.sort=h;var C=function(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",T=document.createElement("a");T.setAttribute("href",s),T.setAttribute("download",y),T.style.display="none",document.body.appendChild(T),T.click(),document.body.removeChild(T)};a.downFile=C;var l=function(s,y){var T=new Blob([JSON.stringify(s)]);C(URL.createObjectURL(T),y)};a.downJsonFile=l;var D=function(s){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:".json",T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"text",g=document.createElement("input");g.setAttribute("type","file"),g.setAttribute("accept",y),g.style.display="none",document.body.appendChild(g),g.click(),g.addEventListener("change",function(d){var v=d.target.files;if(!!v.length){var p=new FileReader;switch(p.onload=function(){var b=p.result;s(b),document.body.removeChild(g)},T){case"text":{p.readAsText(v[0]);break}case"arrayBuffer":{p.readAsArrayBuffer(v[0]);break}case"binaryString":{p.readAsBinaryString(v[0]);break}case"dataUrl":{p.readAsDataURL(v[0]);break}default:{p.readAsText(v[0]);break}}}})};a.importFile=D},21052:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748);t(9100),t(81821),t(6504);var i=n(t(17458)),u=t(22247),h=t(29113),C=t(93767),l=n(t(78310)),D=n(t(32869));t(11400);var f=(0,e.defineComponent)({name:"ChartTitle",props:{type:{type:String},panel:{type:Object},editable:Boolean,chartWrapper:{type:Object},refreshChart:Function},emits:["edit","add","delete","update:type"],setup(s,y){var T=y.emit,g=(0,e.ref)(s.type),d=(0,e.ref)(!1);function v(){g.value==="table"?g.value="chart":g.value="table",T("update:type",g.value)}function p(){i.default.isEnabled?i.default.isFullscreen?(i.default.exit(),d.value=!1):(i.default.request(s.chartWrapper),d.value=!0):(0,u.Message)({theme:"warning",message:"\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u5168\u5C4F\uFF0C\u8BF7\u4F7F\u7528\u8C37\u6B4C\u6D4F\u89C8\u5668\u5C1D\u8BD5"}),console.log("fullScreen",d.value)}i.default.on("change",b);function b(){i.default.isFullscreen||(d.value=!1)}function O(){var r=(0,h.deepClone)(s.panel);r.title="".concat(r.title,"-copy"),delete r.uid,(0,C.savePanelInfo)(r).then(function(c){(0,u.Message)({theme:"success",message:"\u514B\u9686\u6210\u529F"}),T("add","chart",Object.assign(r,c))}).catch(function(){(0,u.Message)({theme:"error",message:"\u7CFB\u7EDF\u5F02\u5E38"})})}function P(){(0,D.default)("\u786E\u5B9A\u79FB\u9664\u56FE\u8868",'\u786E\u5B9A\u79FB\u9664"'.concat(s.panel.title,'"?'),function(){T("delete",s.panel)})}(0,e.onUnmounted)(function(){i.default.off("change",b)});var m=(0,e.computed)(function(){var r;return((r=s.panel.chartStyle.description)===null||r===void 0?void 0:r.show)&&s.panel.description});return function(){return(0,e.createVNode)("div",{class:(0,l.default)("flex-row justify-content-between align-items-center chart-title",{"chart-title-detail":m.value})},[!s.panel.chartStyle.title.hidden&&(0,e.createVNode)("div",{class:(0,l.default)("text-ov flex-1 flex-column justify-content-start",{"draggable-handle":s.editable})},[(0,e.createVNode)("div",{class:"title"},[s.panel.title]),m.value&&(0,e.createVNode)("div",{class:"sub-title"},[m.value])]),(0,e.createVNode)("div",{class:"chart-title-tools flex-row align-items-center "},[s.editable?(0,e.createVNode)(e.Fragment,null,[(0,e.withDirectives)((0,e.createVNode)("div",{class:"custom-menu-tool custom-menu-box",onClick:function(){return T("edit")}},[(0,e.createVNode)("i",{class:"custom-menu-tool-icon bkvision-icon icon-bianji"},null)]),[[(0,e.resolveDirective)("bkTooltips"),{content:"\u7F16\u8F91\u56FE\u8868"}]]),(0,e.withDirectives)((0,e.createVNode)("div",{class:"custom-menu-tool custom-menu-box",onClick:function(){return P()}},[(0,e.createVNode)("i",{class:"custom-menu-tool-icon bkvision-icon icon-delete-line"},null)]),[[(0,e.resolveDirective)("bkTooltips"),{content:"\u79FB\u9664\u56FE\u8868"}]])]):"",(0,e.createVNode)("div",{class:"custom-menu-tool custom-menu-box flex-row "},[(0,e.createVNode)("i",{class:"custom-menu-tool-icon  bkvision-icon icon-more-fill"},null),(0,e.createVNode)("div",{class:"custom-menu-tool-list"},[(0,e.createVNode)("p",{class:"custom-menu-tool-item",onClick:v},[(0,e.createVNode)("i",{class:"bkvision-icon ".concat(g.value==="chart"?"icon-biaoge":"icon-tubiao-zhexiantu","  ")},null),(0,e.createVNode)("span",null,[g.value==="chart"?"\u8868\u683C\u89C6\u56FE":"\u56FE\u8868\u89C6\u56FE"])]),(0,e.createVNode)("p",{class:"custom-menu-tool-item",onClick:p,onKeyup:b},[(0,e.createVNode)("i",{class:"bkvision-icon ".concat(d.value?"icon-327quanping":"icon- icon-filliscreen-line")},null),(0,e.createVNode)("span",null,[d.value?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F\u5C55\u793A"])]),s.editable?(0,e.createVNode)("p",{class:"custom-menu-tool-item",onClick:O},[(0,e.createVNode)("i",{class:"bkvision-icon icon-copy"},null),(0,e.createVNode)("span",null,[(0,e.createTextVNode)("\u514B\u9686\u56FE\u8868")])]):"",(0,e.createVNode)("p",{class:"custom-menu-tool-item",onClick:function(){return s.refreshChart()}},[(0,e.createVNode)("i",{class:"bkvision-icon icon-shuaxin"},null),(0,e.createVNode)("span",null,[(0,e.createTextVNode)("\u5237\u65B0")])])])])])])}}});a.default=f},81508:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(6125);var e=t(70748),i=n(t(65809));t(37209),t(2968),t(99057);var u=t(2769),h=t(22247),C=n(t(83300)),l=n(t(5271)),D=t(30345),f=t(39456),s=n(t(53427)),y=n(t(25738));t(62151);var T=n(t(98634)),g=t(72993),d=n(t(67811)),v=n(t(21052)),p=(0,e.defineComponent)({name:"ChartWrapper",props:T.default,emits:["edit","add","delete"],setup(b){var O=(0,e.ref)(b.type),P=(0,e.ref)(null),m=(0,e.ref)((0,l.default)()),r=(0,e.ref)("loading"),c=(0,e.reactive)({msg:"",content:""}),S=(0,e.shallowReactive)({type:"",data:null}),M=(0,e.ref)(!1),j=(0,e.shallowRef)({}),R=(0,e.ref)(null),L=(0,g.useRoute)(),F=null,V=(0,e.shallowRef)(null),I=null,Q=[];(0,e.watch)(function(){return b.type},function(){O.value=b.type}),(0,e.watch)(function(){return O.value},function(){r.value="loading",K()}),(0,e.watch)(function(){return f.QueryContextModule.variables},function(){M.value=!1,K()},{deep:!0}),b.editable&&!b.isPreview&&(0,e.watch)(function(){return[b.panel.datasource,b.panel.query]},(0,u.debounce)(Z,500),{deep:!0}),(0,e.watch)(function(){return[f.QueryContextModule.timeRange]},function(){K()},{deep:!0}),(0,e.onMounted)(function(){Z()}),(0,e.onUnmounted)(function(){Y()});function Y(){for(var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"cancel";Q.length;){var H=Q.pop();H&&(H(),r.value=w)}}function $(){var w,H,E,B,U,A,J;if(Y(),c.msg="",c.content="",r.value="loading",((w=V.value)===null||w===void 0||(H=w.meta)===null||H===void 0?void 0:H.depend_query)==="never"){r.value="loaded";return}if(!((E=F)!==null&&E!==void 0&&E.query)){c.msg="\u6570\u636E\u8BF7\u6C42\u5931\u8D25",c.content="\u6CA1\u6709\u627E\u5230\u6B64\u56FE\u6570\u636E\u6E90Query\u51FD\u6570",r.value="loaded";return}var z=O.value==="chart"?((B=V.value)===null||B===void 0||(U=B.meta)===null||U===void 0?void 0:U.data_type)||"row":"table";I&&clearTimeout(I),I=setTimeout(function(){r.value==="loading"&&(r.value="overtime"),clearTimeout(I),I=null},15e3);var N=(0,e.toRaw)(b.panel),X=N.query;if(!Array.isArray(X)||!X.length||X.every(function(W){return!W})){r.value="loaded",c.msg="\u6CA1\u6709\u914D\u7F6E\u67E5\u8BE2\u6761\u4EF6";return}if(b.editable&&typeof((A=F)===null||A===void 0?void 0:A.verifyQuery)=="function"){var _=F.verifyQuery(X);if(_){c.msg=_;return}}var q=f.QueryContextModule.share_uid;R.value=(0,d.default)(b.panel,z,M.value?j.value:f.QueryContextModule.variables,q,b.timeRange),(J=F)===null||J===void 0||J.query(R.value,{cancelToken:new C.default.CancelToken(function(W){Q.push(W)}),irrepealable:!0}).then(function(W){console.info("\u56FE\u8868\u8BF7\u6C42\u6210\u529F"),r.value="loaded",Q.pop();for(var te=0,ae=Object.keys(W);te<ae.length;te++){var ne=ae[te];if(W[ne].error){c.msg=W[ne].error;break}}S.type=z,S.data=W}).catch(function(W){if(console.error("\u56FE\u8868\u8BF7\u5931\u8D25",W),W==="\u5DF2\u53D6\u6D88\u7684\u91CD\u590D\u8BF7\u6C42"){r.value!=="terminate"&&(r.value="cancel");return}r.value="loaded",W?.hideNormalError&&W?.hideNormalError(),c.msg="\u6570\u636E\u8BF7\u6C42\u5931\u8D25",c.content=W?.message})}function Z(){return x.apply(this,arguments)}function x(){return x=(0,i.default)(regeneratorRuntime.mark(function w(){var H,E,B,U,A,J;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,D.getChartSourceByType)(b.panel.type).catch(function(X){c.msg=X,r.value="loaded"});case 2:if(H=N.sent,!(!H||!H.ChartPanel||!H.meta)){N.next=7;break}return c.msg="\u6682\u4E0D\u652F\u6301\u6B64\u56FE\u8868",r.value="loaded",N.abrupt("return");case 7:if(E=H.meta,V.value=H,E.depend_query!=="never"){N.next=12;break}return r.value="loaded",N.abrupt("return");case 12:if(E.depend_query!=="half"){N.next=17;break}if(B=(0,e.toRaw)(b.panel),U=B.datasource,A=B.query,!(!A.length||!U||!U.type)){N.next=17;break}return r.value="loaded",N.abrupt("return");case 17:return N.next=19,k();case 19:J=N.sent,J&&$();case 21:case"end":return N.stop()}},w)})),x.apply(this,arguments)}function k(){return new Promise(function(w){var H=V.value.meta,E=(0,e.toRaw)(b.panel),B=E.datasource,U=E.space_uid;if((!B||!B.type)&&(r.value="loaded",H.depend_query!=="half")){c.msg="\u6CA1\u6709\u914D\u7F6E\u6570\u636E\u6E90",w(!1);return}var A=B.type;(0,D.getDataSourceByType)(A,U).then(function(J){if(!(J!=null&&J.DataSource)){if(r.value="loaded",H.depend_query!=="half"){c.msg="\u627E\u4E0D\u5230\u5230\u6570\u636E\u6E90\u63D2\u4EF6",w(!1);return}w(!1);return}J.dataSourceInstance?F=J.dataSourceInstance:F=new J.dataSourceInstance(B),w(!0)})})}var K=(0,u.debounce)($,500);return{renderType:O,timeoutStatus:r,errorMsg:c,key:m,datasourceInstance:F,chartData:S,chartSource:V,chartWrapperRef:P,queryParams:R,refreshChart:K,cancelRequest:Y,initDataSourcePlugin:k,route:L}},render(){var b=this,O=function(){var m,r;if(!["half","never"].includes((m=b.chartSource)===null||m===void 0||(r=m.meta)===null||r===void 0?void 0:r.depend_query)){if(b.errorMsg.msg)return(0,e.createVNode)(h.Exception,{class:"'flex-1 full-width full-height'",scene:"part",type:"empty",title:b.errorMsg.msg,description:b.errorMsg.content},null);if(b.timeoutStatus==="loading"||b.timeoutStatus==="cancel")return(0,e.createVNode)(s.default,{size:"small"},null);if(b.timeoutStatus==="overtime")return(0,e.createVNode)("div",{class:"full-height flex-column justify-content-center align-items-center"},[(0,e.createVNode)("p",{class:"text-gray"},[(0,e.createTextVNode)("\u53EF\u80FD\u56E0\u4E3A\u6570\u636E\u91CF\u8FC7\u5927\uFF0C\u8BE5\u56FE\u8868\u52A0\u8F7D\u65F6\u957F\u5927\u4E8E\u9884\u671F")]),(0,e.createVNode)("p",{class:"mt-min"},[(0,e.createVNode)(h.Button,{onClick:function(){return b.cancelRequest("terminate")},style:{backgroundColor:"#a10001",color:"#fff"},size:"small"},{default:function(){return[(0,e.createTextVNode)("\u53D6\u6D88\u67E5\u8BE2")]}})])]);if(b.timeoutStatus==="terminate")return(0,e.createVNode)("div",{class:"full-height flex-column justify-content-center align-items-center"},[(0,e.createVNode)("p",{class:"text-gray"},[(0,e.createTextVNode)("\u6B64\u56FE\u8868\u5DF2\u53D6\u6D88\u67E5\u8BE2")]),(0,e.createVNode)("p",{class:"mt5"},[(0,e.createVNode)(h.Button,{onClick:b.refreshChart,theme:"primary",size:"small"},{default:function(){return[(0,e.createTextVNode)("\u518D\u6B21\u67E5\u8BE2")]}})])])}if(b.renderType==="table")return(0,e.createVNode)(y.default,{ref:"tableView",panel:b.panel,chartData:b.chartData},null);var c=(0,e.h)(b.chartSource.ChartPanel,{panelModel:b.panel,chartData:b.chartData,editable:b.editable});return b.isShowTitle?(0,e.createVNode)("div",{class:"flex-1"},[c]):c};return(0,e.createVNode)("div",{key:this.key,tabindex:"-1",ref:"chartWrapperRef",class:"full-height flex-column chart-wrapper"},[(0,e.createVNode)(v.default,{panel:this.panel,type:b.renderType,"onUpdate:type":function(m){return b.renderType=m},editable:this.editable,refreshChart:this.refreshChart,chartWrapper:this.chartWrapperRef,onEdit:function(){return b.$emit("edit",b.panel)},onAdd:function(m,r){return b.$emit("add",m,r)},onDelete:function(){return b.$emit("delete",b.panel)}},null),(0,e.createVNode)("div",{class:"flex-1 chart-panel-box"},[O()])])}});a.default=p},6431:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=i;var n=t(70748);t(81821),t(6504);var e=t(22247);function i(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=arguments.length>2?arguments[2]:void 0,l=u.type,D=u.name;switch(l){case"table":case"text":case"query":return(0,n.createVNode)("div",{class:" filter-item bk-compose-form-item flex-row  align-items-center mr10"},[u.description?(0,n.createVNode)("div",{class:"target-select-set text-ov"},[u.description]):"",(0,n.createVNode)(e.Select,{inputSearch:!1,class:"flex-1",placeholder:"\u8BF7\u9009\u62E9",modelValue:h[D],"onUpdate:modelValue":function(s){return h[D]=s},filterable:!0,"enable-virtual-render":!0,multiple:u.multiple,disabled:u.readonly,onChange:function(s){return C(D,s)},list:u?.query_data||[]},null)]);default:return(0,n.createVNode)("div",{class:" filter-item bk-compose-form-item flex-row align-items-center"},[(0,n.createVNode)("div",{class:"target-select-set input-height pl-small pr-small"},[u.description]),(0,n.createVNode)(e.Input,{readonly:u.readonly,onChange:function(s){return C(D,s)},class:"flex-1",modelValue:u.value,"onUpdate:modelValue":function(s){return u.value=s}},null)])}}},20693:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748),i=n(t(64375));t(14775),t(37209),t(84873),t(9100),t(3105),t(17777),t(2968),t(19903),t(58146),t(79467);var u=t(39456),h=n(t(18833)),C=n(t(6431)),l=n(t(63595)),D={isPart:{type:Boolean,default:!1},filters:{type:Object},unWrapped:Boolean,exhibit:Boolean,modelValue:{type:Object,default:function(){return{}}}},f=(0,e.defineComponent)({name:"Filters",props:D,emits:["update:modelValue","change","mounted"],setup(s,y){var T=y.emit,g=(0,e.computed)(function(){return s.modelValue});function d(m,r){g.value[m]=r;var c=s.filters.find(function(M){return M.name===m});if(Array.isArray(c?.child)&&c.child.length){var S=c.child;(0,h.default)(u.QueryContextModule.timeRange,S,u.QueryContextModule.variables,s.isPart).then(function(M){var j=M.filtersHashList,R=M.variations;Object.keys(j).forEach(function(L){p.value[L]=j[L]}),Object.assign(g.value,R)})}T("update:modelValue",g),T("change",{name:m,value:r})}var v=(0,e.ref)(!0),p=(0,e.ref)({});if(s.exhibit){var b={},O={};if(!s.isPart){var P=window.location.search.substr(1);O=l.default.parse(P)}(0,e.watch)(function(){return s.filters},function(m){v.value=!0,p.value={},m.forEach(function(r){var c,S=r.name,M=r.default;p.value[S]||(b[S]=(c=O[S])!==null&&c!==void 0?c:M,p.value[S]=r)}),v.value=!1,(0,u.setVariations)(b),(0,e.nextTick)(function(){T("mounted")})},{immediate:!0})}else(0,e.watch)([function(){return u.QueryContextModule.timeRange},function(){return s.filters}],function(m){var r=(0,i.default)(m,2),c=r[0],S=r[1];v.value=!0,(0,h.default)(c,S,null,s.isPart).then(function(M){var j=M.filtersHashList,R=M.variations;p.value=j,s.isPart||(0,u.setVariations)(R)}).finally(function(){v.value=!1,(0,e.nextTick)(function(){T("mounted")})})},{immediate:!0});return{formData:g,filtersHashList:p,loadingFilter:v,change:d}},render(){var s=this;if(this.loadingFilter||!Object.keys(this.filtersHashList).length)return null;var y=Object.keys(this.filtersHashList).map(function(T){var g=s.filtersHashList[T];return g.is_show===!1?null:(0,C.default)(g,s.formData,s.change)});return this.unWrapped?y:(0,e.createVNode)("div",{class:"filters-items-box flex-row align-items-center flex-wrap"},[y])}});a.default=f},53427:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(70748),e=t(22247),i=(0,n.defineComponent)({name:"LoadingComp",props:{title:{type:String,default:""},size:{type:String,default:"small"}},render(){return(0,n.createVNode)("div",{class:"full-width full-height flex-row align-items-center justify-content-center text-center"},[(0,n.createVNode)(e.Loading,{size:this.size,title:this.title},null)])}});a.default=i},30373:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748),i=n(t(64375));t(25528),t(20148),t(50754);var u=t(22247),h=t(11016);t(56069);var C=t(14712),l=(0,e.defineComponent)({name:"TimeRange",props:{type:{type:String,default:"normal"},short:Boolean,placement:{type:String,default:"bottom-end"},readonly:{type:Boolean,default:!1},modelValue:{type:Array,default:function(){return h.DEFAULT_TIME_RANGE}}},emits:{change:function(f){return f}},setup(D,f){var s=f.emit,y=(0,e.ref)(D.modelValue),T=h.SHORTCUTS.findIndex(function(c){return c.short.join("")===D.modelValue.join("")}),g=(0,e.ref)(T||11),d=(0,e.ref)(!1),v=(0,e.ref)(null),p=(0,e.ref)("Asia/Shanghai"),b=(0,e.ref)(""),O=(0,e.ref)(["",""]);(0,e.watch)(function(){return D.modelValue},function(c){m(c)},{deep:!0,immediate:!0});function P(c,S){S==="shortcut"?s("change",y.value):s("change",c)}function m(c){y.value=[...c];var S=(0,h.handleTransformTime)(c);O.value=[S[0],S[1]]}function r(c,S){if(c){var M=(0,i.default)(c.short,2),j=M[0],R=M[1];s("change",[j,R]),y.value=[j,R]}}return{shortcutSelectedIndex:g,datePicker:v,localValue:y,timezone:p,timestamp:O,timeDisplay:b,isPanelTimeRange:d,changeTime:P,onShortcutChange:r}},render(){var D,f,s=this;return(0,e.createVNode)("div",{class:"time-range time-range-".concat(this.short?"short":"wrap"," flex-row align-items-center ")},[this.short?(0,e.createVNode)(e.Fragment,null,[(0,e.createVNode)("i",{class:"bkvision-icon icon-ic_fuwushijian"},null),(0,e.createVNode)("span",{class:"ml-small mr-min"},[(D=this.datePicker)===null||D===void 0?void 0:D.displayValue]),(0,e.createVNode)("span",{class:"time-range-arrow"},[(f=this.datePicker)!==null&&f!==void 0&&f.visible?(0,e.createVNode)(C.AngleUp,null,null):(0,e.createVNode)(C.AngleDown,null,null)])]):"",(0,e.createVNode)(u.DatePicker,{ref:"datePicker",modelValue:s.timestamp,"onUpdate:modelValue":function(T){return s.timestamp=T},clearable:!1,onChange:this.changeTime,shortcuts:h.SHORTCUTS,readonly:this.readonly,shortcutSelectedIndex:this.shortcutSelectedIndex,useShortcutText:!0,shortcutClose:!0,"onShortcut-change":this.onShortcutChange,format:"yyyy-MM-dd HH:mm:ss",placeholder:"\u9009\u62E9\u65E5\u671F\u8303\u56F4",type:"daterange"},{header:function(){return(0,e.createVNode)("div",{class:"time-range-custom"},[(0,e.createVNode)("span",{class:"pr-small"},[(0,e.createTextVNode)("\u4ECE")]),(0,e.createVNode)(u.Input,{class:"custom-input",size:"small",modelValue:s.localValue[0],"onUpdate:modelValue":function(g){return s.localValue[0]=g}},null),(0,e.createVNode)("span",{class:"pl-normal pr-normal"},[(0,e.createTextVNode)("\u81F3")]),(0,e.createVNode)(u.Input,{class:"custom-input",size:"small",modelValue:s.localValue[1],"onUpdate:modelValue":function(g){return s.localValue[1]=g}},null)])}})])}});a.default=l},85999:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(6125),t(58146),t(37209),t(84873);var e=t(70748),i=n(t(65809)),u=n(t(64375)),h=t(22247),C=t(12692),l=n(t(96716)),D=n(t(53427)),f=t(69734),s=t(39456),y=t(36473),T=t(81133),g=n(t(26677)),d=t(13158),v=t(2769),p=n(t(20693));t(87092),t(7280),t(47376);var b=n(t(78310)),O=t(30345),P=(0,e.defineComponent)({name:"Dashboard",props:{shareData:{type:Object,required:!0,default:function(){return new C.ShareFormData}},space_uid:String,shareType:{type:String,default:"preview"}},setup(m){var r=(0,e.shallowRef)(new C.GridDashBoard),c=(0,e.ref)(!0),S=(0,e.ref)(!0),M=(0,e.ref)(""),j=(0,e.shallowRef)([]),R=(0,e.shallowRef)(m.shareData.filters),L=(0,e.toRefs)(m.shareData),F=L.start_time,V=L.end_time,I=L.lock_time,Q=L.target_uid,Y=L.version,$=L.filters,Z=L.uid;(0,e.watch)([F,V],function(H){var E=(0,u.default)(H,2),B=E[0],U=E[1];B&&U&&(0,s.setTimeRange)([B,U])},{immediate:I.value}),(0,e.watch)($,function(){K()});function x(H){var E=H.panels,B=E===void 0?[]:E,U=H.filters;j.value=B.map(function(N){return new C.PanelModel(N)}),delete H.panels,r.value=new C.GridDashBoard(H);{var A=m.shareData.filters||{},J={},z=[];U.forEach(function(N){var X=N.name,_=N.default,q=N.value;if(J[N.name])return!1;if(J[X]=!0,N.value=A[N.name]||_||q,A[X]=N.value,N.is_show)return z.push(N),!1}),R.value=z}}var k=(0,v.debounce)(function(){var H=(0,i.default)(regeneratorRuntime.mark(function E(B,U){var A;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,(0,d.getVersionData)({target_uid:B,version:U,space_uid:m.space_uid}).catch(function(N){M.value=N?.message||"\u83B7\u53D6\u9762\u677F\u4FE1\u606F\u5931\u8D25",N?.hideNormalError()});case 2:return A=z.sent,A||(M.value="\u83B7\u53D6\u9762\u677F\u6570\u636E\u4E3A\u7A7A"),z.next=6,(0,O.getPanelsPluginsModules)(A.panels);case 6:x(A),c.value=!1;case 8:case"end":return z.stop()}},E)}));return function(E,B){return H.apply(this,arguments)}}(),300);function K(){return w.apply(this,arguments)}function w(){return w=(0,i.default)(regeneratorRuntime.mark(function H(){var E,B,U,A,J;return regeneratorRuntime.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(c.value=!0,m.shareType!=="preview"){N.next=4;break}return(0,e.watch)([Q,Y],function(X){var _=(0,u.default)(X,2),q=_[0],W=_[1];!q||!W||k(q,W)},{immediate:!0}),N.abrupt("return");case 4:return(0,s.setShareUid)(Z.value),E="/api/v1/share/get_meta_data/",m.shareType==="sdk"&&(E="/api/v1/meta/query/"),N.next=9,(0,f.getShareMeta)({share_uid:Z.value,type:"dashboard"},E).catch(function(X){M.value=X?.message||"\u83B7\u53D6\u5206\u4EAB\u4FE1\u606F\u8BF7\u6C42\u51FA\u9519"});case 9:return B=N.sent,B||(M.value="\u6CA1\u6709\u83B7\u53D6\u5230\u5206\u4EAB\u4FE1\u606F",c.value=!1),U=B.panel_plugins,A=B.datasource_plugins,J=B.data,(0,y.setDatasourceTypes)(A),(0,T.setChartSourceList)(U),N.next=16,(0,O.getPanelsPluginsModules)(J.panels);case 16:x(J),c.value=!1;case 18:case"end":return N.stop()}},H)})),w.apply(this,arguments)}return(0,e.onMounted)(function(){K()}),{uid:Z,loading:c,loadingFilter:S,errorMsg:M,dashboard:r,panelList:j,filtersData:R}},render(){var m=this;if(this.loading)return(0,e.createVNode)(D.default,null,null);if(this.errorMsg)return(0,e.createVNode)("div",{class:"full-height flex-row align-items-center justify-content-center"},[(0,e.createVNode)(h.Exception,{type:"500",title:this.errorMsg},null)]);if(this.shareData.hidden_title)return(0,e.createVNode)("div",{class:(0,b.default)("full-height dashboards  bg-gray",{"flex-column":this.shareData.sticky_top})},[(0,e.createVNode)("div",{class:(0,b.default)("dashboard-header bg-white flex-row flex-wrap  mb-small",{"dashboards-header-bg":this.shareData.sticky_top})},null),this.loadingFilter?(0,e.createVNode)("div",{class:"flex-1"},[(0,e.createVNode)(D.default,null,null)]):(0,e.createVNode)(g.default,{panels:this.panelList},null)]);var r=(0,e.createVNode)(p.default,{class:"dashboard-filters",modelValue:s.QueryContextModule.variables,"onUpdate:modelValue":function(S){return s.QueryContextModule.variables=S},filters:this.filtersData,onMounted:function(){return m.loadingFilter=!1},exhibit:!0},null);return(0,e.createVNode)("div",{class:(0,b.default)("full-height dashboards  bg-gray",{"flex-column":this.shareData.sticky_top})},[(0,e.createVNode)("div",{class:(0,b.default)("dashboards-header flex-row flex-wrap  mb-small",{"dashboards-header-bg":this.shareData.sticky_top})},[this.shareData.hidden_title?(0,e.createVNode)(e.Fragment,null,[(0,e.createVNode)("div",{class:"mr-normal flex-row align-items-center mb-normal"},[(0,e.createVNode)(l.default,{isShowRefresh:this.shareData.show_refresh,isShowTime:this.shareData.show_time,isFixedTime:this.shareData.time_readonly,short:!1,needRefreshUrl:!1},null)]),r]):(0,e.createVNode)(e.Fragment,null,[(0,e.createVNode)("div",{class:"dashboards-header-title flex-1 flex-row align-items-center mr-large"},[(0,e.createVNode)("h2",{class:"text-ov"},[this.dashboard.dashboard_title])]),(0,e.createVNode)("div",{class:"flex-row align-items-center"},[this.panelList.length?(0,e.createVNode)(l.default,null,null):""])])]),(0,e.createVNode)("div",{class:"overflow-y-auto flex-1"},[r,this.loadingFilter?(0,e.createVNode)("div",{class:(0,b.default)([this.shareData.sticky_top?"flex-1":"loading-placeholder-box"])},[(0,e.createVNode)(D.default,null,null)]):(0,e.createVNode)(g.default,{panels:this.panelList},null)])])}});a.default=P},96716:function(o,a,t){"use strict";t(81821),t(34),t(37209),t(84873),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748),i=n(t(63638)),u=n(t(64375));t(20148),t(50754),t(9100);var h=t(72993),C=n(t(44012));t(51097);var l=t(39456),D=n(t(30373)),f=t(2769);function s(g,d){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(g);d&&(p=p.filter(function(b){return Object.getOwnPropertyDescriptor(g,b).enumerable})),v.push.apply(v,p)}return v}function y(g){for(var d=1;d<arguments.length;d++){var v=arguments[d]!=null?arguments[d]:{};d%2?s(Object(v),!0).forEach(function(p){(0,i.default)(g,p,v[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):s(Object(v)).forEach(function(p){Object.defineProperty(g,p,Object.getOwnPropertyDescriptor(v,p))})}return g}var T=(0,e.defineComponent)({name:"DashboardHeaderTools",props:{isShowTime:{type:Boolean,default:!0},isFixedTime:Boolean,editable:Boolean,isShowRefresh:{type:Boolean,default:!0},short:{type:Boolean,default:!0},needRefreshUrl:{type:Boolean,default:!0}},setup(g){var d=(0,h.useRoute)(),v=(0,h.useRouter)();function p(){(0,l.setTimeRange)([...l.QueryContextModule.timeRange])}var b=(0,f.debounce)(function(O){var P=(0,u.default)(O,2),m=P[0],r=P[1];if(g.needRefreshUrl){var c=d.query;Object.assign(c,{start_time:m,end_time:r}),v.push({query:y(y({},c),{},{search_time:String(new Date().getTime())})})}(0,l.setTimeRange)([m,r])},500);return function(){return(0,e.createVNode)(e.Fragment,null,[g.isShowTime?(0,e.createVNode)(D.default,{short:g.short,modelValue:l.QueryContextModule.timeRange,"onUpdate:modelValue":function(P){return l.QueryContextModule.timeRange=P},readonly:g.isFixedTime,onChange:b},null):"",g.isShowRefresh?(0,e.createVNode)(C.default,{style:"margin-left: 8px;",refreshFun:p},null):""])}}});a.default=T},44012:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(58146),t(37209);var n=t(70748),e=t(95939);t(59485);var i=t(22247);function u(l){return typeof l=="function"||Object.prototype.toString.call(l)==="[object Object]"&&!(0,n.isVNode)(l)}var h=i.Select.Option,C=(0,n.defineComponent)({name:"RefreshInterval",props:{refreshFun:{type:Function}},emits:["change"],setup(l,D){var f=D.emit,s=(0,n.ref)(-1),y=null;function T(d){if(s.value=d,clearTimeout(y),y=null,s.value!==-1){if(s.value===0){s.value=-1,g();return}y=setTimeout(function(){g(s.value),T(s.value)},s.value)}}function g(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(typeof l.refreshFun=="function"){l.refreshFun(d);return}f("change",d)}return(0,n.onUnmounted)(function(){clearTimeout(y),y=null}),function(){var d;return(0,n.createVNode)("div",{class:"refresh-interval flex-row align-items-center"},[(0,n.withDirectives)((0,n.createVNode)("div",{onClick:function(){return T(0)},class:"target-select-set radius-left"},[(0,n.createVNode)("i",{class:" bkvision-icon icon-refresh cursor-pointer"},null)]),[[(0,n.resolveDirective)("bkTooltips"),{content:"\u5237\u65B0"}]]),(0,n.createVNode)(i.Select,{class:"radius-right",modelValue:s.value,"onUpdate:modelValue":function(p){return s.value=p},onChange:T,clearable:!1,inputSearch:!1},u(d=e.REFRESH_DEFAULT_LIST.map(function(v){return(0,n.createVNode)(h,{key:v.id,value:v.id,label:v.name},null)}))?d:{default:function(){return[d]}})])}}});a.default=C},25738:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748);t(37209),t(84873),t(4064),t(58146),t(11257);var i=n(t(53427)),u=t(22247),h=n(t(41951));t(46591);var C=(0,e.defineComponent)({name:"TableView",props:{panel:{type:Object},chartData:{type:Object},isDataSearch:{type:Boolean,default:!1}},setup(l){var D=(0,e.ref)(!0),f=(0,e.ref)({type:"empty",msg:""}),s=(0,e.ref)([]),y=(0,e.ref)([]);return(0,e.watch)(function(){return l.chartData},function(T){D.value=!0;var g=T.data;Object.keys(g).forEach(function(d){var v=[],p=g[d],b=p.dataset,O=p.columns;v=v.concat(v,b);var P=O.map(function(m){return m.name});y.value=(0,h.default)({columns:P}).column,s.value=v,s.value.length||(f.value.msg="\u6682\u65F6\u6CA1\u6709\u76F8\u5E94\u7684\u6570\u636E")}),D.value=!1},{deep:!0,immediate:!0}),{loading:D,error:f,tableData:s,renderColumns:y}},render(){var l=this;return this.loading?(0,e.createVNode)(i.default,null,null):this.error.msg?(0,e.createVNode)(u.Exception,{class:"full-height  align-items-center justify-content-center",scene:"part",type:this.error.type},{default:function(){return[(0,e.createVNode)("span",null,[l.error.msg])]}}):(0,e.createVNode)("div",{class:"full-height overflow-hidden flex-1"},[(0,e.createVNode)(u.Table,{data:this.tableData,rowHeight:30,height:"100%",thead:{height:30},class:"table-view",columns:this.renderColumns,virtualEnabled:!0},null)])}});a.default=C},41951:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=n,t(58146);function n(e){var i=e.columns.map(function(u){return{field:u,label:u,sort:{sortScope:"all"}}});return{column:i}}},2212:function(o,a,t){"use strict";t(81821),t(1714);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(6125),t(34),t(37209),t(2968),t(19903),t(58146),t(17369),t(25528),t(35340),t(36274),t(20148),t(50754),t(14775),t(9100),t(84873),t(99057);var e=t(70748),i=n(t(65809)),u=n(t(63638)),h=n(t(35788)),C=t(72993),l=t(30345),D=t(95939),f=n(t(53427)),s=t(92203),y=t(2769),T=n(t(89585)),g=n(t(81508)),d=t(93767),v=n(t(81200));function p(m,r){var c=Object.keys(m);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(m);r&&(S=S.filter(function(M){return Object.getOwnPropertyDescriptor(m,M).enumerable})),c.push.apply(c,S)}return c}function b(m){for(var r=1;r<arguments.length;r++){var c=arguments[r]!=null?arguments[r]:{};r%2?p(Object(c),!0).forEach(function(S){(0,u.default)(m,S,c[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(c)):p(Object(c)).forEach(function(S){Object.defineProperty(m,S,Object.getOwnPropertyDescriptor(c,S))})}return m}function O(m){return typeof m=="function"||Object.prototype.toString.call(m)==="[object Object]"&&!(0,e.isVNode)(m)}var P=(0,e.defineComponent)({name:"GirdSimple",props:b(b({},h.default),{},{list:{type:Array,default:function(){return[]}}}),setup(m){var r=(0,v.default)(),c=(0,C.useRoute)(),S=(0,e.ref)([]),M=(0,e.ref)(""),j=(0,e.ref)(!1),R=(0,e.ref)(!1),L=(0,e.computed)(function(){return m.list}),F=(0,e.shallowRef)([]),V=(0,e.computed)(function(){return L.value.length?F.value.filter(function(E){return!L.value.some(function(B){return B.uid===E.uid})}):F.value});(0,e.onMounted)((0,i.default)(regeneratorRuntime.mark(function E(){var B;return regeneratorRuntime.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return B=c.params.space_uid,A.next=3,(0,l.getPluginTypes)(String(B));case 3:return A.next=5,(0,l.getPanelsPluginsModules)(L.value);case 5:Q(),I({space_uid:String(B)});case 7:case"end":return A.stop()}},E)})));function I(E){(0,d.getPanels)(E).then(function(B){r.panelList.length?F.value=B.filter(function(U){return!r.panelList.some(function(A){return A.uid===U.uid})}):F.value=B}).finally(function(){j.value=!0})}function Q(){S.value=L.value.map(function(E){return b(b({},E.gridPos),{},{i:E.uid})})}function Y(E){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=r.panelList.slice(),A=U.findIndex(function(ae){return ae.uid===E.uid});if(A!==-1){var J=E.gridPos,z=J.h,N=J.w,X=J.y,_=z+X,q=0;if((N===D.GRID_COL_NUM||U[A+1]&&U[A+1].gridPos.y>=_)&&(q=z),U.splice(A,1),q>0)for(var W=A;W<U.length;W++){var te=U[W];te.gridPos.y-=q}$(U,B)}}function $(E){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=[],A=function(z){for(var N=0,X=z.slice().sort(function(ve,he){return ve.gridPos.y-he.gridPos.y||ve.gridPos.x-he.gridPos.x}),_=X.length;N<_;){var q=X[N],W=U[U.length-1];if(!W)U.push(q.gridPos);else{var te=q.gridPos,ae=te.x,ne=te.y,fe=te.w,Ce=W.x,ue=W.y,re=W.h,ce=W.w;ae!==Ce?ne<ue+re?fe>24-ce&&(ae=0,ne=ue+re):ne=ue+re:(fe>24-ce&&(ae=0),ne=ue+re),q.gridPos.x=ae,q.gridPos.y=ne,U.push(q.gridPos)}N+=1}};A(E),L.value.splice(0,L.value.length,...E),B&&(S.value=U)}function Z(E){return L.value.find(function(B){return B.uid===E})}function x(E){E.dragging=!0}function k(E,B,U,A){M.value=E.uid,E.dragging=!1,console.log(U,A,B),E.type}function K(E,B,U){var A=F.value.find(function(z){return z.uid===E});if(!!A){var J=Object.assign(U,A);L.value.splice(B,1,J),Q()}}function w(){R.value=!0}var H=(0,y.debounce)(function(E){E.forEach(function(B){var U=Z(B.i);Object.assign(U.gridPos,B)}),S.value=E},500);return{layout:S,movedId:M,inited:j,viewList:F,handleLayoutUpdated:H,onLayoutReady:w,getPanelsItem:Z,selectPanel:K,handleItemMoving:x,handleItemMoved:k,deletePanel:Y,selectList:V}},render(){var m,r=this;return this.inited?(0,e.createVNode)(s.GridLayout,{layout:r.layout,"onUpdate:layout":function(S){return r.layout=S},"col-num":D.GRID_COL_NUM,"row-height":D.GRID_ROW_HEIGHT,"is-resizabl":this.editable,"is-draggable":this.editable,"vertical-compact":!0,"use-css-transforms":!1,margin:D.GRID_ROW_MARGIN,"on-layout-updated":this.handleLayoutUpdated,"on-layout-ready":this.onLayoutReady},O(m=this.layout.map(function(c,S){var M=r.getPanelsItem(c.i);if(!M)return console.error("\u627E\u4E0D\u5230\u56FE\u8868"),null;var j;switch(M.type){case"add-panel":j=(0,e.createVNode)(T.default,{key:c.i,class:"chart-wrapper",panelList:r.selectList,onSelect:function(L){return r.selectPanel(L,S,M)},onDelete:r.deletePanel,panel:M},null);break;default:j=(0,e.createVNode)(g.default,{key:"".concat(c.i,"__key__"),panel:M,editable:r.editable,isShowMenu:r.isShowMenu,isShowFilter:r.isShowFilter,onDelete:r.deletePanel},null);break}return(0,e.createVNode)(s.GridItem,{key:c.i,x:c.x,y:c.y,w:c.w,h:c.h,i:c.i,static:!1,minH:c.minH,minW:c.minW,maxH:c.maxH,maxW:c.maxW,isDraggable:r.editable,isResizable:!["row","tab"].includes(M.type)&&r.editable,"drag-allow-from":".draggable-handle,.bk-tab-header",onMove:function(){return r.handleItemMoving(M)},onMoved:function(L,F,V){return r.handleItemMoved(M,L,F,V)}},O(j)?j:{default:function(){return[j]}})}))?m:{default:function(){return[m]}}):(0,e.createVNode)(f.default,null,null)}});a.default=P},84285:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748),i=t(14712),u=n(t(32869)),h=t(22247),C=(0,e.defineComponent)({name:"GridPanelRow",props:{editable:{type:Boolean,default:!1},panel:{type:Object,default:function(){return null},required:!0}},emits:["collapse","edit","delete"],setup(l,D){var f=D.emit,s=(0,e.computed)(function(){return l.panel}),y=(0,e.computed)(function(){return l.editable}),T=(0,e.ref)(!1),g=(0,e.ref)("");function d(O){O.stopPropagation(),O.preventDefault(),f("collapse")}function v(){(0,u.default)("\u63D0\u793A","\u786E\u5B9A\u5220\u9664\u6B64\u5206\u7EC4",function(){f("delete")})}function p(){T.value=!0,g.value=s.value.title}function b(){T.value=!1,g.value=""}return function(){var O,P;return(0,e.createVNode)("div",{onClick:function(r){return!y.value&&d(r)},class:"gird-row-box flex-row align-items-center pl-medium pr-medium"},[(0,e.createVNode)("div",{class:"flex-row flex-row align-items-center"},[(0,e.createVNode)("div",{onClick:function(r){return y.value&&d(r)},class:"flex-row align-items-center cursor-pointer"},[(0,e.createVNode)("div",{class:"pr-small "},[s.value.collapsed?(0,e.createVNode)("i",{class:"bkvision-icon icon-angle-right-fill"},null):(0,e.createVNode)("i",{class:"bkvision-icon icon-angle-up-fill-3"},null)]),(0,e.createVNode)("div",null,[s.value.title]),s.value.collapsed?(0,e.createVNode)("div",{class:"ml-small nowrap text-gray"},[(0,e.createTextVNode)("\uFF08"),(O=s.value)===null||O===void 0||(P=O.panels)===null||P===void 0?void 0:P.length,(0,e.createTextVNode)(" \u4E2A\u56FE\u8868\uFF09")]):""])]),y.value?(0,e.createVNode)(e.Fragment,null,[(0,e.createVNode)("div",{class:"row-tool-box flex-row align-items-center"},[(0,e.createVNode)(i.EditLine,{onClick:p,class:"ml-small pl-min pr-min cursor-pointer"},null),(0,e.createVNode)(i.Del,{onClick:v,class:"pl-min ml-min cursor-pointer"},null)]),s.value.collapsed?"":(0,e.createVNode)("div",{class:"draggable-handle flex-1"},[(0,e.createTextVNode)("\xA0")])]):"",(0,e.createVNode)(h.Dialog,{title:"\u4FEE\u6539\u5206\u7EC4\u6807\u9898",isShow:T.value,quickClose:!1,escClose:!1},{default:function(){return(0,e.createVNode)(h.Input,{modelValue:g.value,"onUpdate:modelValue":function(c){return g.value=c}},null)},footer:function(){return(0,e.createVNode)("div",{class:"flex-row align-items-center justify-content-end"},[(0,e.createVNode)(h.Button,{theme:"primary",disabled:!g.value,onClick:function(){T.value=!1,s.value.title=g.value}},{default:function(){return[(0,e.createTextVNode)("\u786E\u5B9A")]}}),(0,e.createVNode)(h.Button,{onClick:b,class:"ml-normal"},{default:function(){return[(0,e.createTextVNode)("\u53D6\u6D88")]}})])}})])}}});a.default=C},89585:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t(58146),t(37209);var e=t(70748),i=n(t(98990));t(70047);var u=n(t(44880)),h=t(22247);function C(f){return typeof f=="function"||Object.prototype.toString.call(f)==="[object Object]"&&!(0,e.isVNode)(f)}var l=h.Select.Option,D=(0,e.defineComponent)({name:"AddPanel",props:i.default,emits:["select","delete"],setup(f,s){var y=s.emit;function T(v){y("select",v)}function g(){y("select",i.default.panel)}var d=(0,e.ref)([]);return{selectPanel:T,deleteItem:g,panelList:d}},render(){var f;return(0,e.createVNode)("div",{class:"full-height tab-chart-reference"},[(0,e.createVNode)("div",{class:"draggable-handle flex-row justify-content-between p15"},[(0,e.createVNode)("div",{class:"text-gray"},[(0,e.createTextVNode)("\u5F15\u7528\u73B0\u6709\u56FE\u8868:")]),(0,e.createVNode)("div",null,[(0,e.createVNode)("i",{onClick:this.deleteItem,class:"bk-vision-icon v-delete cursor-pointer"},null)])]),(0,e.createVNode)("div",{class:"p15  pl40 pr40 mb15 full-width text-center"},[(0,e.createVNode)(h.Select,{"ext-cls":"full-width",placeholder:this.$t("\u8BF7\u9009\u56FE\u8868\u586B\u5145"),filterable:!0,onChange:this.selectPanel,"search-with-pinyin":!0,"enable-virtual-scroll":!0},C(f=this.panelList.map(function(s){return(0,e.createVNode)(l,{label:s.title,value:s.uid},null)}))?f:{default:function(){return[f]}})]),(0,e.createVNode)("div",{class:"text-center"},[(0,e.createVNode)("img",{width:100,src:u.default},null)])])}});a.default=D},26677:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748);t(58146),t(17369),t(25528),t(35340),t(37209),t(84873),t(20148),t(50754),t(14775);var i=n(t(81508)),u=t(12692),h=t(81200),C=n(t(53427)),l=t(95939),D=n(t(35689)),f=n(t(84285)),s=t(92203);t(5148),t(4110);function y(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Object]"&&!(0,e.isVNode)(g)}var T=(0,e.defineComponent)({name:"GridPanelPlugin",props:{panels:{type:Array,default:function(){return[]},required:!0},shareUid:{type:String,default:!1,required:!0}},emits:["ready","delete","mounted"],setup(g){var d=(0,e.shallowRef)([]),v=(0,e.ref)(),p=(0,e.ref)(!0);(0,e.watch)(function(){return g.panels},function(r){p.value=!0,v.value=r,b(),(0,e.nextTick)(function(){p.value=!1})},{immediate:!0});function b(){d.value=v.value.map(function(r){return r.gridPos})}function O(r){if(r.collapsed=!r.collapsed,!(v.value.length<2&&r.collapsed)&&!!r.panels.length){for(var c=(0,h.sortGridPanels)(v.value.slice()),S=r.gridPos,M=S.y,j=S.h,R=c.findIndex(function(z){return z.uid===r.uid}),L=c.length,F=!1,V=R+1;V<c.length;V++){var I=c[V];if(I.type==="row"){L=V,F=!0;break}}var Q=F?c[L].gridPos:c[L-1].gridPos,Y=Q.y,$=Q.h;if(r.collapsed){if(L-R===1)return;var Z=c.splice(R+1,L-R-1);console.log(Z),r.panels=Z,c[R]=r;for(var x=Y+$-(M+j),k=R+1;k<c.length;k++){var I=c[k];I.gridPos.y-=x}}else{if(!Array.isArray(r.panels)||!r.panels.length)return;var K=[];r.panels.forEach(function(z){var N;z?.constructor===u.PanelModel?N=z:N=new u.PanelModel(z),K.push(N)}),K=(0,h.sortGridPanels)(K);for(var w=K.length,H=K[w-1].gridPos,E=K[0].gridPos,B=E.y-(M+j),U=H.y+H.h-E.y,A=L;A<c.length;A++){var J=c[A];J.gridPos.y+=U+1}K.forEach(function(z){z.gridPos.y-=B}),c.splice(R,0,...K)}v.value=c,(0,e.nextTick)(function(){b()})}}function P(r){return v.value.find(function(c){return c.uid===r})}function m(){b()}return{handleCollapse:O,getPanelsItem:P,changeTab:m,layout:d,panelList:v,loading:p}},render(){var g,d=this;if(this.loading)return(0,e.createVNode)("div",{class:"flex-1"},[(0,e.createVNode)(C.default,null,null)]);var v=function(b){var O=d.getPanelsItem(b.i);if(!O)return console.error("\u627E\u4E0D\u5230\u56FE\u8868"),null;switch(O.type){case"tab":return(0,e.createVNode)(D.default,{key:b.i,panel:O,editable:!1,onChange:d.changeTab},null);case"row":return(0,e.createVNode)(f.default,{editable:!1,panel:O,onCollapse:function(){return d.handleCollapse(O)}},null);default:return(0,e.createVNode)(i.default,{key:"".concat(b.i,"__key__"),panel:O,editable:!1},null)}};return(0,e.createVNode)("div",{id:"dashboard-panel",ref:"dashboardPanel",class:"dashboard-panel flex-1"},[(0,e.createVNode)(s.GridLayout,{layout:d.layout,"onUpdate:layout":function(b){return d.layout=b},"col-num":l.GRID_COL_NUM,"row-height":l.GRID_ROW_HEIGHT,"is-resizabl":!1,"is-draggable":!1,"vertical-compact":!0,"use-css-transforms":!1,margin:l.GRID_ROW_MARGIN},y(g=this.layout.map(function(p){var b;return(0,e.createVNode)(s.GridItem,{key:p.i,x:p.x,y:p.y,w:p.w,h:p.h,i:p.i,static:!1,minH:p.minH,minW:p.minW,maxH:p.maxH,maxW:p.maxW,isDraggable:!1,isResizable:!1,"drag-allow-from":".draggable-handle,.bk-tab-header"},y(b=v(p))?b:{default:function(){return[b]}})}))?g:{default:function(){return[g]}})])}});a.default=T},35689:function(o,a,t){"use strict";t(20148),t(25341),t(50754);var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=t(70748);t(35340),t(14775),t(37209),t(58146);var i=n(t(92312)),u=T(t(81200)),h=t(95939),C=t(22247),l=n(t(2212)),D=t(14712),f=t(29113);t(95890);var s=n(t(32869));function y(v){if(typeof WeakMap!="function")return null;var p=new WeakMap,b=new WeakMap;return(y=function(P){return P?b:p})(v)}function T(v,p){if(!p&&v&&v.__esModule)return v;if(v===null||typeof v!="object"&&typeof v!="function")return{default:v};var b=y(p);if(b&&b.has(v))return b.get(v);var O={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in v)if(m!=="default"&&Object.prototype.hasOwnProperty.call(v,m)){var r=P?Object.getOwnPropertyDescriptor(v,m):null;r&&(r.get||r.set)?Object.defineProperty(O,m,r):O[m]=v[m]}return O.default=v,b&&b.set(v,O),O}var g=C.Tab.TabPanel,d=(0,e.defineComponent)({name:"TabPanelPlugin",props:i.default,emits:["delete","change","update:panel"],setup(v,p){var b,O,P=p.emit,m=(0,u.default)(),r=(0,e.ref)(""),c=(0,e.ref)(!0),S=(0,e.ref)(-1),M=(0,e.shallowRef)(null),j=(0,e.computed)({get(){return v.panel},set($){debugger;P("update:panel",$),P("change",$)}}),R=(0,e.ref)(j.value.active||((b=j.value)===null||b===void 0||(O=b.panels[0])===null||O===void 0?void 0:O.uid));function L(){var $=(0,h.addTabPanel)();j.value.panels.push($),(0,e.nextTick)(function(){R.value=$.uid})}function F($){if(j.value.panels.length<2){(0,C.Message)({theme:"error",message:"\u81F3\u5C11\u4FDD\u7559\u4E00\u4E2Atab"});return}j.value.panels.splice($,1)}function V(){(0,s.default)("\u63D0\u793A","\u786E\u5B9A\u5220\u9664\u6B64\u6807\u7B7E\u9875",function(){P("delete")})}function I($){var Z=(0,e.toRaw)(j.value),x=Z.panels,k=x.find(function(K){return K.uid===$});k&&Q(k.panels),j.value.active=$,P("change")}function Q($){var Z=(0,u.countTabHeight)($),x=Z+2,k=x-j.value.gridPos.h;j.value.gridPos.h=x,m.updatePanel({panel:j.value,uid:j.value.uid,isResize:!0,diff:k})}function Y($){S.value=$,M.value=(0,f.deepClone)(j.value.panels[$])}return{gridTabPanelEditor:r,active:R,loading:c,tabSettingIndex:S,tabSettingPanel:M,panel:j,addTab:L,changeTab:I,closeTab:F,deleteTab:V,setTab:Y}},render(){var v=this;return(0,e.createVNode)("div",{class:"full-height tab-chart"},[(0,e.createVNode)(C.Tab,{active:v.active,"onUpdate:active":function(b){return v.active=b},class:"bk-tab-flex full-height",type:"border-card",closable:this.editable,addable:this.editable,onAdd:this.addTab,onChange:this.changeTab,onRemove:this.closeTab},{setting:function(){return(0,e.createVNode)("div",{onClick:v.deleteTab},[(0,e.createVNode)(D.Del,{class:"pr-medium"},null)])},default:function(){return v.panel.panels.map(function(b,O){var P=b.uid,m=b.title,r=b.panels;return console.log("render"),(0,e.createVNode)(g,{key:O,label:m,name:P},{label:function(){return(0,e.createVNode)("div",{class:"flex-row align-items-center"},[v.editable?(0,e.createVNode)("i",{onClick:function(){return v.setTab(O)},class:"panel-icon bk-icon icon-cog-shape mr10 cursor-pointer"},null):"",(0,e.createVNode)("span",{class:"panel-name"},[m||"\u6807\u7B7E".concat(O)])])},panel:function(){return(0,e.createVNode)(l.default,{class:"full-height overflow-auto",list:r,"onUpdate:list":function(M){return r=M},editable:!1,isShowMenu:v.isShowMenu,isShowFilter:v.isShowFilter,movable:v.movable},null)}})})}})])}});a.default=d},63644:function(o,a,t){"use strict";var n=t(38600);Object.defineProperty(a,"__esModule",{value:!0}),a.QueryPanel=void 0;var e=n(t(63638));class i{constructor(h){(0,e.default)(this,"P",void 0),(0,e.default)(this,"query",void 0),(0,e.default)(this,"onChange",void 0),this.P=h}}a.QueryPanel=i},32869:function(o,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.confirmInstance=void 0;var n=t(22247),e=(0,n.InfoBox)({isShow:!1,zIndex:9999999999999});a.confirmInstance=e;var i=function(C,l,D){var f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"\u786E\u5B9A",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"\u53D6\u6D88",y=arguments.length>5?arguments[5]:void 0;e.update({title:C,subTitle:l,onConfirm:D,onClosed:y,confirmText:f,cancelText:s}),e.show()},u=i;a.default=u},30161:function(o,a,t){var n={".":[29113,7],"./":[29113,7],"./Bus":[76132,9,6132],"./Bus.ts":[76132,9,6132],"./beforeunload":[86761,9,6761],"./beforeunload.ts":[86761,9,6761],"./bk-ui":[27231,9],"./bk-ui.ts":[27231,9],"./confirm":[32869,9],"./confirm.tsx":[32869,9],"./confirmAgain":[70404,9,404],"./confirmAgain.ts":[70404,9,404],"./copyToClipboard":[27776,9,7776],"./copyToClipboard.ts":[27776,9,7776],"./createRandomColor":[78539,9,8539],"./createRandomColor.ts":[78539,9,8539],"./createUID":[5271,9],"./createUID.ts":[5271,9],"./dashboard":[30345,9],"./dashboard.ts":[30345,9],"./download":[96662,9,6662],"./download.ts":[96662,9,6662],"./execQueryData":[66966,9,6966],"./execQueryData.ts":[66966,9,6966],"./findParents":[22565,9],"./findParents.ts":[22565,9],"./formats":[35444,9,5444],"./formats/":[35444,9,5444],"./formats/arithmeticFormatters":[46436,9,9976],"./formats/arithmeticFormatters.ts":[46436,9,9976],"./formats/categories":[93351,9,9976],"./formats/categories.ts":[93351,9,9976],"./formats/dateTimeFormatters":[63571,7,3571],"./formats/dateTimeFormatters.ts":[63571,7,3571],"./formats/displayValue":[72829,9,2829],"./formats/displayValue.ts":[72829,9,2829],"./formats/index":[35444,9,5444],"./formats/index.ts":[35444,9,5444],"./formats/symbolFormatters":[35354,9,9976],"./formats/symbolFormatters.ts":[35354,9,9976],"./formats/timeformat":[52558,9,2558],"./formats/timeformat.ts":[52558,9,2558],"./formats/valueFormats":[99976,9,9976],"./formats/valueFormats.ts":[99976,9,9976],"./getShareUrlParams":[56701,9,6701],"./getShareUrlParams.ts":[56701,9,6701],"./index":[29113,7],"./index.ts":[29113,7],"./isElementNotInViewport":[63330,9,3330],"./isElementNotInViewport.ts":[63330,9,3330],"./public-path":[75788,7,5788],"./public-path.js":[75788,7,5788],"./systemjs-import":[86218,9],"./systemjs-import.ts":[86218,9],"./utils":[80583,9],"./utils.ts":[80583,9]};function e(i){if(!t.o(n,i))return Promise.resolve().then(function(){var C=new Error("Cannot find module '"+i+"'");throw C.code="MODULE_NOT_FOUND",C});var u=n[i],h=u[0];return Promise.all(u.slice(2).map(t.e)).then(function(){return t.t(h,u[1]|16)})}e.keys=function(){return Object.keys(n)},e.id=30161,o.exports=e},89357:function(o,a,t){"use strict";o.exports=t.p+"static/svg/\u51B7\u8272\u8C03.a42ecab4.svg"},72125:function(o,a,t){"use strict";o.exports=t.p+"static/svg/\u6696\u8272\u8C03.9539ea21.svg"},65761:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.f19cfdf3.svg"},73743:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.4e174fbb.svg"},56928:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.0a9d9355.svg"},41909:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.bacadf04.svg"},19409:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.48a4904e.svg"},31282:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.4b56d0e5.svg"},72901:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.d4848908.svg"},75907:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.0580accb.svg"},93330:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.19d785ad.svg"},19677:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.77859bf7.svg"},47507:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.ab097c6c.svg"},39691:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.d6944ed0.svg"},30821:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.abfebe28.svg"},57189:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.cdb99f12.svg"},83363:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.68764312.svg"},38468:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.9f545879.svg"},69266:function(o,a,t){"use strict";o.exports=t.p+"static/svg/logo.f7fd4688.svg"},44880:function(o,a,t){"use strict";o.exports=t.p+"static/img/reference.2aa40a9e.png"},83300:function(o){"use strict";o.exports=oe},22247:function(o){"use strict";o.exports=ee},78310:function(o){"use strict";o.exports=ie},55760:function(o){"use strict";o.exports=me},60550:function(o){"use strict";o.exports=ge},70748:function(o){"use strict";o.exports=ye},24654:function(){},86291:function(o){"use strict";o.exports=JSON.parse('{"type":"bar-chart","name":"\u67F1\u72B6\u56FE","id":"bar-chart","build_in":true,"data_type":"point","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},35089:function(o){"use strict";o.exports=JSON.parse('{"type":"gauge","name":"\u4EEA\u8868\u76D8","id":"gauge","build_in":true,"data_type":"row","meta":{"description":"Data source for MySQL databases","author":"liwang","logo":"img/logo.svg"}}')},13208:function(o){"use strict";o.exports=JSON.parse('{"type":"image","name":"\u56FE\u7247","id":"image","build_in":true,"data_type":"row","depend_query":"never","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},54336:function(o){"use strict";o.exports=JSON.parse('{"type":"number-panel","name":"\u6570\u5B57\u9762\u677F","id":"number-panel","build_in":true,"data_type":"row","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},12190:function(o){"use strict";o.exports=JSON.parse('{"type":"pie-charts","name":"\u997C\u56FE","id":"pie-charts","build_in":true,"data_type":"row","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},19754:function(o){"use strict";o.exports=JSON.parse('{"type":"rich-text","name":"\u5BCC\u6587\u672C","id":"rich-text","build_in":true,"data_type":"table","depend_query":"half","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},29176:function(o){"use strict";o.exports=JSON.parse('{"type":"table","name":"\u6570\u636E\u8868\u683C","id":"table","build_in":true,"data_type":"table","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},39565:function(o){"use strict";o.exports=JSON.parse('{"type":"time-series-mixed","name":"\u67F1\u7EBF\u56FE","id":"time-series-mixed","build_in":true,"data_type":"point","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},41612:function(o){"use strict";o.exports=JSON.parse('{"type":"time-series","name":"\u6298\u7EBF\u56FE","id":"time-series","build_in":true,"data_type":"point","meta":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')},69815:function(o){"use strict";o.exports=JSON.parse('{"type":"card-panel","name":"card-panel","id":"card-panel","build_in":true,"info":{"description":"\u5361\u7247\u5E03\u5C40","author":"andyljzhou"}}')},31529:function(o){"use strict";o.exports=JSON.parse('{"mode":"sql","type":"bkbase","name":"\u84DD\u9CB8\u8BA1\u7B97\u5E73\u53F0","id":"bkbase","category":"origin","build_in":true,"info":{"description":"\u63A5\u5165\u4E1A\u52A1\u6570\u636E","author":"admin","logo":"img/logo.svg"}}')},37566:function(o){"use strict";o.exports=JSON.parse('{"mode":"http","type":"bkmonitor","name":"\u84DD\u9CB8\u76D1\u63A7\u5E73\u53F0","id":"bkmonitor","category":"origin","build_in":true,"info":{"description":"\u63A5\u5165\u4E1A\u52A1\u76D1\u63A7\u6570\u636E","author":"admin","logo":"img/logo.svg"}}')},858:function(o){"use strict";o.exports=JSON.parse('{"mode":"sql","type":"excel","name":"Excel","id":"excel","category":"static","build_in":true,"info":{"description":"\u63A5\u5165\u672C\u5730\u8868\u683C\u6570\u636E","author":"andyljzhou","logo":"img/logo.svg"}}')},49214:function(o){"use strict";o.exports=JSON.parse('{"mode":"http","type":"jsonapi","name":"Web API","id":"jsonapi","build_in":true,"category":"dynamic","info":{"description":"\u63A5\u5165Web API\u6570\u636E","author":"admin","logo":"img/logo.svg"}}')},34344:function(o){"use strict";o.exports=JSON.parse('{"mode":"sql","type":"lesscode","name":"\u53EF\u89C6\u5316\u5F00\u53D1\u5E73\u53F0","id":"lesscode","category":"origin","build_in":true,"info":{"description":"\u63A5\u5165lesscode\u6570\u636E","author":"admin","logo":"img/logo.svg"}}')},87966:function(o){"use strict";o.exports=JSON.parse('{"mode":"sql","type":"mysql","name":"MySQL","id":"mysql","category":"dynamic","build_in":true,"testable":true,"info":{"description":"\u63A5\u5165MySQL\u6570\u636E\u5E93\u6570\u636E","author":"andyljzhou","logo":"img/logo.svg"}}')},99741:function(o){"use strict";o.exports=JSON.parse('{"mode":"sql","type":"prometheus","name":"Prometheus","id":"prometheus","category":"dynamic","build_in":true,"info":{"description":"\u63A5\u5165Prometheus\u6570\u636E","author":"andyljzhou","logo":"img/logo.svg"}}')},35013:function(o){"use strict";o.exports=JSON.parse('{"mode":"sql","type":"trino","name":"Trino","id":"trino","category":"dynamic","build_in":true,"info":{"description":"Data source for MySQL databases","author":"andyljzhou","logo":"img/logo.svg"}}')}},de={};function G(o){var a=de[o];if(a!==void 0)return a.exports;var t=de[o]={id:o,loaded:!1,exports:{}};return se[o].call(t.exports,t,t.exports,G),t.loaded=!0,t.exports}G.m=se,function(){G.amdO={}}(),function(){var o=[];G.O=function(a,t,n,e){if(t){e=e||0;for(var i=o.length;i>0&&o[i-1][2]>e;i--)o[i]=o[i-1];o[i]=[t,n,e];return}for(var u=1/0,i=0;i<o.length;i++){for(var t=o[i][0],n=o[i][1],e=o[i][2],h=!0,C=0;C<t.length;C++)(e&!1||u>=e)&&Object.keys(G.O).every(function(T){return G.O[T](t[C])})?t.splice(C--,1):(h=!1,e<u&&(u=e));if(h){o.splice(i--,1);var l=n();l!==void 0&&(a=l)}}return a}}(),function(){var o=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__},a;G.t=function(t,n){if(n&1&&(t=this(t)),n&8||typeof t=="object"&&t&&(n&4&&t.__esModule||n&16&&typeof t.then=="function"))return t;var e=Object.create(null);G.r(e);var i={};a=a||[null,o({}),o([]),o(o)];for(var u=n&2&&t;typeof u=="object"&&!~a.indexOf(u);u=o(u))Object.getOwnPropertyNames(u).forEach(function(h){i[h]=function(){return t[h]}});return i.default=function(){return t},G.d(e,i),e}}(),function(){G.d=function(o,a){for(var t in a)G.o(a,t)&&!G.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:a[t]})}}(),function(){G.f={},G.e=function(o){return Promise.all(Object.keys(G.f).reduce(function(a,t){return G.f[t](o,a),a},[]))}}(),function(){G.u=function(o){return"static/js/"+o+".js"}}(),function(){G.miniCssF=function(o){return"static/css/"+o+"."+{1042:"68cffbfc",1191:"bd3b48e1",1588:"68cffbfc",2093:"ef688d23",2501:"68cffbfc",2757:"a7101147",3638:"deadcd04",4032:"50354f1f",4672:"0c503dfc",4817:"68cffbfc",5559:"6edbacca",6045:"d1a82523",6048:"5ba7c368",6345:"e291ac05",6565:"68cffbfc",7068:"83ddf8f9",7324:"68cffbfc",7734:"98805b50",8052:"50354f1f",8831:"2c9fa633",8947:"f8815a9f",9194:"50354f1f",9353:"5bf85cf1",9403:"6800a826",9515:"a60d8f5c",9822:"85a6b69c"}[o]+".css"}}(),function(){G.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){G.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){var o={},a="MyLibrary:";G.l=function(t,n,e,i){if(o[t]){o[t].push(n);return}var u,h;if(e!==void 0)for(var C=document.getElementsByTagName("script"),l=0;l<C.length;l++){var D=C[l];if(D.getAttribute("src")==t||D.getAttribute("data-webpack")==a+e){u=D;break}}u||(h=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,G.nc&&u.setAttribute("nonce",G.nc),u.setAttribute("data-webpack",a+e),u.src=t),o[t]=[n];var f=function(y,T){u.onerror=u.onload=null,clearTimeout(s);var g=o[t];if(delete o[t],u.parentNode&&u.parentNode.removeChild(u),g&&g.forEach(function(d){return d(T)}),y)return y(T)},s=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),h&&document.head.appendChild(u)}}(),function(){G.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){G.nmd=function(o){return o.paths=[],o.children||(o.children=[]),o}}(),function(){G.p=""}(),function(){var o=function(e,i,u,h,C){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var D=function(f){if(l.onerror=l.onload=null,f.type==="load")h();else{var s=f&&(f.type==="load"?"missing":f.type),y=f&&f.target&&f.target.href||i,T=new Error("Loading CSS chunk "+e+` failed.
(`+y+")");T.code="CSS_CHUNK_LOAD_FAILED",T.type=s,T.request=y,l.parentNode.removeChild(l),C(T)}};return l.onerror=l.onload=D,l.href=i,u?u.parentNode.insertBefore(l,u.nextSibling):document.head.appendChild(l),l},a=function(e,i){for(var u=document.getElementsByTagName("link"),h=0;h<u.length;h++){var C=u[h],l=C.getAttribute("data-href")||C.getAttribute("href");if(C.rel==="stylesheet"&&(l===e||l===i))return C}for(var D=document.getElementsByTagName("style"),h=0;h<D.length;h++){var C=D[h],l=C.getAttribute("data-href");if(l===e||l===i)return C}},t=function(e){return new Promise(function(i,u){var h=G.miniCssF(e),C=G.p+h;if(a(h,C))return i();o(e,C,null,i,u)})},n={4826:0};G.f.miniCss=function(e,i){var u={1042:1,1191:1,1588:1,2093:1,2501:1,2757:1,3638:1,4032:1,4672:1,4817:1,5559:1,6045:1,6048:1,6345:1,6565:1,7068:1,7324:1,7734:1,8052:1,8831:1,8947:1,9194:1,9353:1,9403:1,9515:1,9822:1};n[e]?i.push(n[e]):n[e]!==0&&u[e]&&i.push(n[e]=t(e).then(function(){n[e]=0},function(h){throw delete n[e],h}))}}(),function(){var o={4826:0};G.f.j=function(n,e){var i=G.o(o,n)?o[n]:void 0;if(i!==0)if(i)e.push(i[2]);else if(n!=8947){var u=new Promise(function(D,f){i=o[n]=[D,f]});e.push(i[2]=u);var h=G.p+G.u(n),C=new Error,l=function(D){if(G.o(o,n)&&(i=o[n],i!==0&&(o[n]=void 0),i)){var f=D&&(D.type==="load"?"missing":D.type),s=D&&D.target&&D.target.src;C.message="Loading chunk "+n+` failed.
(`+f+": "+s+")",C.name="ChunkLoadError",C.type=f,C.request=s,i[1](C)}};G.l(h,l,"chunk-"+n,n)}else o[n]=0},G.O.j=function(n){return o[n]===0};var a=function(n,e){var i=e[0],u=e[1],h=e[2],C,l,D=0;if(i.some(function(s){return o[s]!==0})){for(C in u)G.o(u,C)&&(G.m[C]=u[C]);if(h)var f=h(G)}for(n&&n(e);D<i.length;D++)l=i[D],G.o(o,l)&&o[l]&&o[l][0](),o[l]=0;return G.O(f)},t=(typeof self<"u"?self:this).webpackChunkMyLibrary=(typeof self<"u"?self:this).webpackChunkMyLibrary||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var le=G.O(void 0,[4998],function(){return G(27831)});return le=G.O(le),le}()});
